

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Kubernetes Development &mdash; Root Pages  documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Virtual Machines" href="virtual_machines.html" />
    <link rel="prev" title="Kubernetes Administration" href="kubernetes_administration.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Root Pages
          

          
          </a>

          
            
            
              <div class="version">
                2021.04.01
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Administration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../administration/authentication.html">Authentication</a></li>
<li class="toctree-l1"><a class="reference internal" href="../administration/chromebook.html">Chromebook</a></li>
<li class="toctree-l1"><a class="reference internal" href="../administration/graphics.html">Graphics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../administration/linux.html">Linux</a></li>
<li class="toctree-l1"><a class="reference internal" href="../administration/macs.html">Macs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../administration/mail_servers.html">Mail Servers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../administration/operating_systems.html">Operating Systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../administration/package_managers.html">Package Managers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../administration/security.html">Security</a></li>
</ul>
<p class="caption"><span class="caption-text">Automation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../automation/ansible.html">Ansible</a></li>
<li class="toctree-l1"><a class="reference internal" href="../automation/puppet.html">Puppet</a></li>
</ul>
<p class="caption"><span class="caption-text">Computer Hardware</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../computer_hardware/graphics_cards.html">Graphics Cards</a></li>
<li class="toctree-l1"><a class="reference internal" href="../computer_hardware/laptops.html">Laptops</a></li>
<li class="toctree-l1"><a class="reference internal" href="../computer_hardware/monitors.html">Monitors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../computer_hardware/processors.html">Processors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../computer_hardware/storage_devices.html">Storage Devices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../computer_hardware/webcams.html">Webcams</a></li>
</ul>
<p class="caption"><span class="caption-text">HTTP</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../http/clustering.html">Clustering and High Availability</a></li>
<li class="toctree-l1"><a class="reference internal" href="../http/cms.html">Content Management Systems (CMSs)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../http/databases.html">Databases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../http/http_servers.html">HTTP Servers</a></li>
</ul>
<p class="caption"><span class="caption-text">Networking</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../networking/dns_servers.html">DNS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../networking/networking_hardware.html">Networking (Hardware)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../networking/linux.html">Linux Networking</a></li>
</ul>
<p class="caption"><span class="caption-text">Observation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../observation/logging.html">Logging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../observation/monitoring.html">Monitoring</a></li>
</ul>
<p class="caption"><span class="caption-text">OpenStack</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../openstack/openstack.html">OpenStack</a></li>
<li class="toctree-l1"><a class="reference internal" href="../openstack/developer.html">OpenStack Developer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../openstack/kolla.html">Kolla</a></li>
<li class="toctree-l1"><a class="reference internal" href="../openstack/openstack-ansible.html">OpenStack-Ansible</a></li>
<li class="toctree-l1"><a class="reference internal" href="../openstack/tripleo.html">TripleO</a></li>
</ul>
<p class="caption"><span class="caption-text">Programming</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../programming/c_and_c%2B%2B.html">C and C++</a></li>
<li class="toctree-l1"><a class="reference internal" href="../programming/devops.html">DevOps</a></li>
<li class="toctree-l1"><a class="reference internal" href="../programming/go.html">Go</a></li>
<li class="toctree-l1"><a class="reference internal" href="../programming/packaging.html">Packaging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../programming/python.html">Python 3</a></li>
</ul>
<p class="caption"><span class="caption-text">Storage</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../storage/backup_and_recovery.html">Backup and Recovery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../storage/bootloaders.html">Bootloaders</a></li>
<li class="toctree-l1"><a class="reference internal" href="../storage/ceph.html">Ceph</a></li>
<li class="toctree-l1"><a class="reference internal" href="../storage/file_systems.html">File Systems</a></li>
</ul>
<p class="caption"><span class="caption-text">Virtualization</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="containers.html">Containers</a></li>
<li class="toctree-l1"><a class="reference internal" href="kubernetes_administration.html">Kubernetes Administration</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Kubernetes Development</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#api">API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#stability">Stability</a></li>
<li class="toctree-l3"><a class="reference internal" href="#types">Types</a></li>
<li class="toctree-l3"><a class="reference internal" href="#resources">Resources</a></li>
<li class="toctree-l3"><a class="reference internal" href="#imperative-and-declarative-configuration">Imperative and Declarative Configuration</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#api-resources">API Resources</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#cluster">Cluster</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#certificatesigningrequest">CertificateSigningRequest</a></li>
<li class="toctree-l4"><a class="reference internal" href="#clusterrole">ClusterRole</a></li>
<li class="toctree-l4"><a class="reference internal" href="#clusterrolebinding">ClusterRoleBinding</a></li>
<li class="toctree-l4"><a class="reference internal" href="#namespace">Namespace</a></li>
<li class="toctree-l4"><a class="reference internal" href="#networkpolicy">NetworkPolicy</a></li>
<li class="toctree-l4"><a class="reference internal" href="#persistentvolume">PersistentVolume</a></li>
<li class="toctree-l4"><a class="reference internal" href="#role">Role</a></li>
<li class="toctree-l4"><a class="reference internal" href="#rolebinding">RoleBinding</a></li>
<li class="toctree-l4"><a class="reference internal" href="#serviceaccount">ServiceAccount</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#config-and-storage">Config and Storage</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#configmap">ConfigMap</a></li>
<li class="toctree-l4"><a class="reference internal" href="#persistentvolumeclaim">PersistentVolumeClaim</a></li>
<li class="toctree-l4"><a class="reference internal" href="#secret">Secret</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#metadata">Metadata</a></li>
<li class="toctree-l3"><a class="reference internal" href="#service">Service</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#ingress">Ingress</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id6">Service</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#workloads">Workloads</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#cronjob">CronJob</a></li>
<li class="toctree-l4"><a class="reference internal" href="#deployment">Deployment</a></li>
<li class="toctree-l4"><a class="reference internal" href="#job">Job</a></li>
<li class="toctree-l4"><a class="reference internal" href="#pod">Pod</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#third-party">Third-Party</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id13">Cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="#clusterissuer">ClusterIssuer</a></li>
<li class="toctree-l4"><a class="reference internal" href="#issuer">Issuer</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#openshift">OpenShift</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#template">Template</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#common-reoccuring-fields">(Common Reoccuring Fields)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#containers">Containers</a></li>
<li class="toctree-l4"><a class="reference internal" href="#probe">Probe</a></li>
<li class="toctree-l4"><a class="reference internal" href="#selector">Selector</a></li>
<li class="toctree-l4"><a class="reference internal" href="#system-resources">System Resources</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#concepts">Concepts</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#popular-apis">Popular APIs</a></li>
<li class="toctree-l3"><a class="reference internal" href="#labels-and-annotations">Labels and Annotations</a></li>
<li class="toctree-l3"><a class="reference internal" href="#namespaces">Namespaces</a></li>
<li class="toctree-l3"><a class="reference internal" href="#persistent-storage">Persistent Storage</a></li>
<li class="toctree-l3"><a class="reference internal" href="#service-and-ingress-public-networking">Service and Ingress (Public Networking)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#pod-scheduling">Pod Scheduling</a></li>
<li class="toctree-l3"><a class="reference internal" href="#helm-package-manager">Helm (Package Manager)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#best-practices">Best Practices</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#probes">Probes</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#installation">Installation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#kubectl-cli">kubectl (CLI)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#helm-cli">helm (CLI)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#history">History</a></li>
<li class="toctree-l2"><a class="reference internal" href="#bibliography">Bibliography</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="virtual_machines.html">Virtual Machines</a></li>
<li class="toctree-l1"><a class="reference internal" href="wine.html">Wine</a></li>
</ul>
<p class="caption"><span class="caption-text">Commands</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../commands/clustering.html">Clustering</a></li>
<li class="toctree-l1"><a class="reference internal" href="../commands/compression.html">Compression</a></li>
<li class="toctree-l1"><a class="reference internal" href="../commands/configuration_management.html">Configuration Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../commands/firewalls.html">Firewalls</a></li>
<li class="toctree-l1"><a class="reference internal" href="../commands/hardware.html">Hardware</a></li>
<li class="toctree-l1"><a class="reference internal" href="../commands/openstack.html">OpenStack</a></li>
<li class="toctree-l1"><a class="reference internal" href="../commands/package_managers.html">Package Managers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../commands/permissions.html">Permissions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../commands/phones.html">Phones</a></li>
<li class="toctree-l1"><a class="reference internal" href="../commands/security.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../commands/software_code_management.html">Source Code Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../commands/storage.html">Storage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../commands/text_editors.html">Text Editors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../commands/virtualization.html">Virtualization</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Root Pages</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="index.html">&lt;no title&gt;</a> &raquo;</li>
        
      <li>Kubernetes Development</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/virtualization/kubernetes_development.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="kubernetes-development">
<h1><a class="toc-backref" href="#id19">Kubernetes Development</a><a class="headerlink" href="#kubernetes-development" title="Permalink to this headline">¶</a></h1>
<div class="contents topic" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#kubernetes-development" id="id19">Kubernetes Development</a></p>
<ul>
<li><p><a class="reference internal" href="#api" id="id20">API</a></p>
<ul>
<li><p><a class="reference internal" href="#stability" id="id21">Stability</a></p></li>
<li><p><a class="reference internal" href="#types" id="id22">Types</a></p></li>
<li><p><a class="reference internal" href="#resources" id="id23">Resources</a></p></li>
<li><p><a class="reference internal" href="#imperative-and-declarative-configuration" id="id24">Imperative and Declarative Configuration</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#api-resources" id="id25">API Resources</a></p>
<ul>
<li><p><a class="reference internal" href="#cluster" id="id26">Cluster</a></p>
<ul>
<li><p><a class="reference internal" href="#certificatesigningrequest" id="id27">CertificateSigningRequest</a></p></li>
<li><p><a class="reference internal" href="#clusterrole" id="id28">ClusterRole</a></p></li>
<li><p><a class="reference internal" href="#clusterrolebinding" id="id29">ClusterRoleBinding</a></p></li>
<li><p><a class="reference internal" href="#namespace" id="id30">Namespace</a></p></li>
<li><p><a class="reference internal" href="#networkpolicy" id="id31">NetworkPolicy</a></p></li>
<li><p><a class="reference internal" href="#persistentvolume" id="id32">PersistentVolume</a></p></li>
<li><p><a class="reference internal" href="#role" id="id33">Role</a></p></li>
<li><p><a class="reference internal" href="#rolebinding" id="id34">RoleBinding</a></p></li>
<li><p><a class="reference internal" href="#serviceaccount" id="id35">ServiceAccount</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#config-and-storage" id="id36">Config and Storage</a></p>
<ul>
<li><p><a class="reference internal" href="#configmap" id="id37">ConfigMap</a></p></li>
<li><p><a class="reference internal" href="#persistentvolumeclaim" id="id38">PersistentVolumeClaim</a></p></li>
<li><p><a class="reference internal" href="#secret" id="id39">Secret</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#metadata" id="id40">Metadata</a></p></li>
<li><p><a class="reference internal" href="#service" id="id41">Service</a></p>
<ul>
<li><p><a class="reference internal" href="#ingress" id="id42">Ingress</a></p></li>
<li><p><a class="reference internal" href="#id6" id="id43">Service</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#workloads" id="id44">Workloads</a></p>
<ul>
<li><p><a class="reference internal" href="#cronjob" id="id45">CronJob</a></p></li>
<li><p><a class="reference internal" href="#deployment" id="id46">Deployment</a></p></li>
<li><p><a class="reference internal" href="#job" id="id47">Job</a></p></li>
<li><p><a class="reference internal" href="#pod" id="id48">Pod</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#third-party" id="id49">Third-Party</a></p>
<ul>
<li><p><a class="reference internal" href="#id13" id="id50">Cluster</a></p></li>
<li><p><a class="reference internal" href="#clusterissuer" id="id51">ClusterIssuer</a></p></li>
<li><p><a class="reference internal" href="#issuer" id="id52">Issuer</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#openshift" id="id53">OpenShift</a></p>
<ul>
<li><p><a class="reference internal" href="#template" id="id54">Template</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#common-reoccuring-fields" id="id55">(Common Reoccuring Fields)</a></p>
<ul>
<li><p><a class="reference internal" href="#containers" id="id56">Containers</a></p></li>
<li><p><a class="reference internal" href="#probe" id="id57">Probe</a></p></li>
<li><p><a class="reference internal" href="#selector" id="id58">Selector</a></p></li>
<li><p><a class="reference internal" href="#system-resources" id="id59">System Resources</a></p></li>
</ul>
</li>
</ul>
</li>
<li><p><a class="reference internal" href="#concepts" id="id60">Concepts</a></p>
<ul>
<li><p><a class="reference internal" href="#popular-apis" id="id61">Popular APIs</a></p></li>
<li><p><a class="reference internal" href="#labels-and-annotations" id="id62">Labels and Annotations</a></p></li>
<li><p><a class="reference internal" href="#namespaces" id="id63">Namespaces</a></p></li>
<li><p><a class="reference internal" href="#persistent-storage" id="id64">Persistent Storage</a></p></li>
<li><p><a class="reference internal" href="#service-and-ingress-public-networking" id="id65">Service and Ingress (Public Networking)</a></p></li>
<li><p><a class="reference internal" href="#pod-scheduling" id="id66">Pod Scheduling</a></p></li>
<li><p><a class="reference internal" href="#helm-package-manager" id="id67">Helm (Package Manager)</a></p></li>
<li><p><a class="reference internal" href="#best-practices" id="id68">Best Practices</a></p>
<ul>
<li><p><a class="reference internal" href="#probes" id="id69">Probes</a></p></li>
</ul>
</li>
</ul>
</li>
<li><p><a class="reference internal" href="#installation" id="id70">Installation</a></p>
<ul>
<li><p><a class="reference internal" href="#kubectl-cli" id="id71">kubectl (CLI)</a></p></li>
<li><p><a class="reference internal" href="#helm-cli" id="id72">helm (CLI)</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#history" id="id73">History</a></p></li>
<li><p><a class="reference internal" href="#bibliography" id="id74">Bibliography</a></p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="api">
<h2><a class="toc-backref" href="#id20">API</a><a class="headerlink" href="#api" title="Permalink to this headline">¶</a></h2>
<div class="section" id="stability">
<h3><a class="toc-backref" href="#id21">Stability</a><a class="headerlink" href="#stability" title="Permalink to this headline">¶</a></h3>
<p>New Kubernetes APIs go through a life-cycle of updates before being marked as stable. Below are the different possible stages in ascending order.</p>
<ul class="simple">
<li><p>Development or Prototype = Not found in any official releases. May not work.</p></li>
<li><p>Alpha = Partially implemented. Disabled by default. Versioning starts with <code class="docutils literal notranslate"><span class="pre">v1alpha1</span></code>.</p></li>
<li><p>Beta = Feature complete. Includes mostly completed API test coverage. Upgrades may break. Versioning starts with <code class="docutils literal notranslate"><span class="pre">v1beta1</span></code>.</p></li>
<li><p>Stable or General Availability (GA) = Fully supported in Kubernetes. Will remain backwards compatible with upgrades. Versioning starts with <code class="docutils literal notranslate"><span class="pre">v1</span></code>.</p></li>
</ul>
<p>[4]</p>
</div>
<div class="section" id="types">
<h3><a class="toc-backref" href="#id22">Types</a><a class="headerlink" href="#types" title="Permalink to this headline">¶</a></h3>
<p>All of the available APIs are categorized into these types:</p>
<ul class="simple">
<li><p>Cluster</p></li>
<li><p>Config and Storage</p></li>
<li><p>Metadata</p></li>
<li><p>Service</p></li>
<li><p>Workloads</p></li>
</ul>
<p>[5]</p>
</div>
<div class="section" id="resources">
<h3><a class="toc-backref" href="#id23">Resources</a><a class="headerlink" href="#resources" title="Permalink to this headline">¶</a></h3>
<p>Resource APIs are used to create objects in Kubernetes. They define the desired state of objects. Controllers are used to enforce that state. Every object manifest has the following fields. Typically these are defined declaratively via a YAML manifest file.</p>
<ul class="simple">
<li><p><strong>apiVersion (string)</strong> = The version of the API. Normally <code class="docutils literal notranslate"><span class="pre">v1</span></code> or <code class="docutils literal notranslate"><span class="pre">&lt;APIGROUP&gt;/v1</span></code>.</p></li>
<li><p><strong>kind (string)</strong> = Name of the API to create an object from.</p></li>
<li><p><strong>metadata (dictionary)</strong> = Metadata for the object.</p>
<ul>
<li><p><strong>name (string)</strong> = The unique name of this object. Only one object with this Resoure kind and name can exist in a namespace.</p></li>
<li><p><strong>labels (dictionary)</strong> = Any key-value pair to help identify this object. This is optional but recommended to help find specific or related objects.</p></li>
</ul>
</li>
<li><p><strong>spec (dictionary)</strong> = Provide information on how this object will be created and used. Valid inputs are different for every API. Not all APIs will have a spec.</p></li>
<li><p>status = The current state information for the object. This can be shown via <code class="docutils literal notranslate"><span class="pre">kubectl</span> <span class="pre">get</span> <span class="pre">&lt;RESOURCE_API&gt;</span> <span class="pre">&lt;OBJECT&gt;</span> <span class="pre">-o</span> <span class="pre">yaml</span></code>.</p></li>
</ul>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nn">---</span>
<span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;RESOURCE_APIGROUP&gt;/&lt;RESOURCE_APIVERSION&gt;</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;RESOURCE_KIND&gt;</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;OBJECT_NAME&gt;</span>
  <span class="nt">labels</span><span class="p">:</span>
    <span class="nt">&lt;KEY&gt;</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;VALUE&gt;</span>
<span class="nt">spec</span><span class="p">:</span>
</pre></div>
</div>
<p>[6]</p>
<p>List the values for each Resource such as the <code class="docutils literal notranslate"><span class="pre">&lt;NAME&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;APIGROUP&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;KIND&gt;</span></code>, and if it supports namespaces. Further documentation on all of the available configuration fields for a Resource can also be shown.</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$ kubectl api-resources
$ kubectl explain &lt;RESOURCE_NAME&gt;
$ kubectl explain &lt;RESOURCE_NAME&gt;.spec --recursive
$ kubectl explain &lt;RESOURCE_NAME&gt; --recursive
</pre></div>
</div>
<p>View the <code class="docutils literal notranslate"><span class="pre">&lt;RESOURCE_APIGROUP&gt;/&lt;RESOURCE_APIVERSION&gt;</span></code> versions available to use.</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$ kubectl api-versions
</pre></div>
</div>
<p>Show all objects from one of the Resource APIs.</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$ kubectl get &lt;RESOURCE_NAME&gt;
</pre></div>
</div>
<p>View details about an object.</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$ kubectl describe &lt;RESOURCE_NAME&gt; &lt;OBJECT_NAME&gt;
</pre></div>
</div>
<p>[7]</p>
<p>Edit or view the YAML configuration for an existing object.</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$ kubectl edit &lt;RESOURCE_NAME&gt; &lt;OBJECT_NAME&gt;
$ kubectl get &lt;RESOURCE_NAME&gt; &lt;OBJECT_NAME&gt; -o yaml --export
</pre></div>
</div>
<p>Create a basic template for a Deployment or any object. It can be saved and used as a starting point for a new template. No object will be created.</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$ kubectl run &lt;DEPLOYMENT_NAME&gt; --image<span class="o">=</span>&lt;CONTAINER_IMAGE_NAME&gt; --dry-run -o yaml
$ kubectl create &lt;RESOURCE_NAME&gt; &lt;OBJECT_NAME&gt; --dry-run -o yaml
</pre></div>
</div>
<p>[8]</p>
</div>
<div class="section" id="imperative-and-declarative-configuration">
<h3><a class="toc-backref" href="#id24">Imperative and Declarative Configuration</a><a class="headerlink" href="#imperative-and-declarative-configuration" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Imperative</p>
<ul>
<li><p><a class="reference external" href="https://kubernetes.io/docs/tasks/manage-kubernetes-objects/imperative-command/">commands</a> = Using only the CLI (no configuration file) to create and manage resources. Syntax: <code class="docutils literal notranslate"><span class="pre">kubectl</span> <span class="pre">run</span></code> for Pods and <code class="docutils literal notranslate"><span class="pre">kubectl</span> <span class="pre">create</span> <span class="pre">&lt;RESOURCE_API&gt;</span></code> for most other resources.</p></li>
<li><p><a class="reference external" href="https://kubernetes.io/docs/tasks/manage-kubernetes-objects/imperative-config/">object configuration</a> = Using the CLI and an existing configuration file/directory to create and manage resources. Syntax: <code class="docutils literal notranslate"><span class="pre">kubectl</span> <span class="pre">{create,delete,get,replace}</span> <span class="pre">-f</span> <span class="pre">&lt;FILE&gt;.yaml</span></code>.</p></li>
</ul>
</li>
<li><p>Declarative</p>
<ul>
<li><p><a class="reference external" href="https://kubernetes.io/docs/tasks/manage-kubernetes-objects/declarative-config/">object configuration</a> = Directly apply a configuration and change it’s state using a manifest file. Syntax: <code class="docutils literal notranslate"><span class="pre">kubectl</span> <span class="pre">{apply,diff}</span> <span class="pre">-f</span> <span class="pre">&lt;FILE&gt;.yaml</span></code>.</p></li>
</ul>
</li>
</ul>
<p>A YAML file can be used to define an object that will be created using an API resource. This is commonly called a manifest, definition, declarative, or an object configuration file. Once it has been applied it becomes a live object configuration that is stored in Kubernetes back-end database. It is recommended to use declarative objects because they can be easily tracked and updated through a source code management (SCM) such as git. [9]</p>
<p><strong>Run Generators</strong></p>
<p>In Kubernetes &lt; 1.19, the imperative command <code class="docutils literal notranslate"><span class="pre">kubectl</span> <span class="pre">run</span></code> would create a Deployment. It could optionally be used to create a Pod instead.</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$ kubectl run &lt;DEPLOYMENT_NAME&gt; --image<span class="o">=</span>&lt;IMAGE&gt;
kubectl run --generator<span class="o">=</span>deployment/apps.v1 is DEPRECATED and will be removed <span class="k">in</span> a future version. Use kubectl run --generator<span class="o">=</span>run-pod/v1 or kubectl create instead.
</pre></div>
</div>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$ kubectl run --generator<span class="o">=</span>run-pod/v1 &lt;POD_NAME&gt; --image<span class="o">=</span>&lt;IMAGE&gt;
</pre></div>
</div>
<p>In Kubernetes &gt;= 1.19, the command can only create a Pod. This is to align the command with the functionality of <code class="docutils literal notranslate"><span class="pre">docker</span> <span class="pre">run</span></code>.</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$ kubectl run &lt;POD_NAME&gt; --image<span class="o">=</span>&lt;IMAGE&gt;
</pre></div>
</div>
<p>[10]</p>
</div>
</div>
<div class="section" id="api-resources">
<h2><a class="toc-backref" href="#id25">API Resources</a><a class="headerlink" href="#api-resources" title="Permalink to this headline">¶</a></h2>
<p>Each section lists the following information:</p>
<ul class="simple">
<li><p>&lt;API_GROUP&gt;</p>
<ul>
<li><p>&lt;API_RESOURCE&gt; = &lt;DESCRIPTION&gt;</p></li>
</ul>
</li>
</ul>
<p>A manifest file can be created to use the resource following this format:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nn">---</span>
<span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;GROUP&gt;/&lt;API_VERSION&gt;</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;API_RESOURCE&gt;</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;NAME&gt;</span>
<span class="nt">spec</span><span class="p">:</span>
</pre></div>
</div>
<p>Information about every API can be found be using the <code class="docutils literal notranslate"><span class="pre">kubectl</span> <span class="pre">explain</span></code> command, viewing the <a class="reference external" href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.18/">API Reference Docs</a>, or viewing the <a class="reference external" href="https://kubernetes.io/docs/home/">Kubernetes Documentation</a>.</p>
<div class="section" id="cluster">
<h3><a class="toc-backref" href="#id26">Cluster</a><a class="headerlink" href="#cluster" title="Permalink to this headline">¶</a></h3>
<p>Cluster APIs are used by Kubernetes cluster operators to define how it is configured. [5] These are not to be confused with the singular <a class="reference external" href="https://kind.sigs.k8s.io/">Cluster API</a> that is used to create development Kubernetes clusters using containers.</p>
<ul class="simple">
<li><p>apiregistration.k8s.io</p>
<ul>
<li><p>APIService = Add third-party Kubernetes APIs.</p></li>
</ul>
</li>
<li><p>auditregistration.k8s.io</p>
<ul>
<li><p>AuditSink = Audit a Kubernetes cluster dynamically with webhooks.</p></li>
</ul>
</li>
<li><p>authentication.k8s.io</p>
<ul>
<li><p>TokenRequest = Create a token.</p></li>
<li><p>TokenReview = Verify if a token is authenticated.</p></li>
</ul>
</li>
<li><p>authorization.k8s.io</p>
<ul>
<li><p>LocalSubjectAccessReview = Check if a specific action can be used by a user within a namespace.</p></li>
<li><p>SelfSubjectAccessReview = Check if a specific action can be used by the current user.</p></li>
<li><p>SelfSubjectRulesReview = View the actions the current user can do in a namespace.</p></li>
<li><p>SubjectAccessReview = Check if a specific action can be used by a user.</p></li>
</ul>
</li>
<li><p>certificates.k8s.io</p>
<ul>
<li><p>CertificateSigningRequest = Force certificates to be signed either automatically or manually.</p></li>
</ul>
</li>
<li><p>coordination.k8s.io</p>
<ul>
<li><p>Lease = Provides an efficient heartbeat from the kubelet service to let the kube-controller-manager know it is still available.</p></li>
</ul>
</li>
<li><p>core</p>
<ul>
<li><p>Binding = Bind objects together.</p></li>
<li><p>ComponentStatus = Provides the status of Kubernetes cluster services such as etcd, kube-scheduler, and kube-controller-manager.</p></li>
<li><p>Namespace = Create namespaces for developers to isolate their objects.</p></li>
<li><p>Node = Manage attributes of any Node (Control Plane or Worker).</p></li>
<li><p>PersistentVolume = Manage persistent and stateful volumes. PersistentVolumeClaims can be created from this object.</p></li>
<li><p>ResourceQuota = Manage resource allocations and limits.</p></li>
<li><p>ServiceAccount = Manage Kubernetes accounts that are used by automation tools (not humans).</p></li>
</ul>
</li>
<li><p>flowcontrol.apiserver.k8s.io</p>
<ul>
<li><p>FlowSchema = Assign priorities to incoming requests.</p></li>
<li><p>PriorityLevelConfiguration = Manage the limit of outstanding and queued requests to the kube-apiserver.</p></li>
</ul>
</li>
<li><p>networking.k8s.io</p>
<ul>
<li><p>NetworkPolicy = Manage Pod networks. The network plugin in the Kubernetes cluster has to support this feature (not every plugin does).</p></li>
</ul>
</li>
<li><p>node.k8s.io</p>
<ul>
<li><p>RuntimeClass = Configure containerd or CRI-O runtimes. This can then be used by a Pod.</p></li>
</ul>
</li>
<li><p>rbac.authorization.k8s.io</p>
<ul>
<li><p>ClusterRole = Role-based access control (RBAC) for all resources regardless of namespace separation.</p></li>
<li><p>ClusterRoleBinding = A list of users and their permissions for a given ClusterRole.</p></li>
<li><p>Role = RBAC for all namespaced resources.</p></li>
<li><p>RoleBinding = A list of users and their permissions for a given Role.</p></li>
</ul>
</li>
</ul>
<div class="section" id="certificatesigningrequest">
<h4><a class="toc-backref" href="#id27">CertificateSigningRequest</a><a class="headerlink" href="#certificatesigningrequest" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p>API group / version (latest): certificates.k8s.io/v1</p></li>
<li><p>Shortname: csr</p></li>
<li><p>Namespaced: false</p></li>
</ul>
<hr class="docutils" />
<p><code class="docutils literal notranslate"><span class="pre">csr.spec:</span></code></p>
<ul class="simple">
<li><p>extras (map of strings) = Additional settings for the user.</p></li>
<li><p>groups (list of strings) [32] = Specify the type of account that this certificate can be used as for authentication.</p>
<ul>
<li><p>system:authenticated = Human.</p></li>
<li><p>system:serviceaccounts = Non-human.</p></li>
</ul>
</li>
<li><p><strong>request</strong> (string) = Base64-encoded PEM/certificate file content.</p></li>
<li><p><strong>signerName</strong> (string) [33] = The CA that will sign the certificate.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">kubernetes.io/kube-apiserver-client</span></code> = Certificates will be valid for interfacing directly with the kube-apiserver as an end-user client. <code class="docutils literal notranslate"><span class="pre">csr.spec.usages</span></code> must include <code class="docutils literal notranslate"><span class="pre">[&quot;client</span> <span class="pre">auth&quot;]</span></code> and can also add <code class="docutils literal notranslate"><span class="pre">[&quot;digital</span> <span class="pre">signature&quot;,</span> <span class="pre">&quot;key</span> <span class="pre">encipherment&quot;]</span></code>. Subjects can be anything.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">kubernetes.io/kube-apiserver-client-kubelet</span></code> = Similar to <code class="docutils literal notranslate"><span class="pre">kubernetes.io/kube-apiserver-client</span></code> except this certificate should be used for Kubernetes components and not end-users. <code class="docutils literal notranslate"><span class="pre">csr.spec.usages</span></code> must be set to <code class="docutils literal notranslate"><span class="pre">[&quot;client</span> <span class="pre">auth&quot;,</span> <span class="pre">&quot;digital</span> <span class="pre">signature&quot;,</span> <span class="pre">&quot;key</span> <span class="pre">encipherment&quot;]</span></code>. Subjects must be <code class="docutils literal notranslate"><span class="pre">[&quot;system:&lt;COMPONENT_NAME&gt;&quot;]</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">kubernetes.io/kubelet-serving</span></code> = Certificates will be valid for kubelet processes only. <code class="docutils literal notranslate"><span class="pre">csr.spec.usages</span></code> must be set to <code class="docutils literal notranslate"><span class="pre">[&quot;digital</span> <span class="pre">signature&quot;,</span> <span class="pre">&quot;key</span> <span class="pre">encipherment&quot;,</span> <span class="pre">&quot;server</span> <span class="pre">auth&quot;]</span></code>. Subjects must be <code class="docutils literal notranslate"><span class="pre">[&quot;system:&lt;COMPONENT_NAME&gt;&quot;]</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">kubernetes.io/legacy-unknown</span></code> = Used by legacy third-party Kubernetes distrubtions. Not supported by upstream Kubernetes.</p></li>
</ul>
</li>
<li><p>uid (string) = A unique identifer for the user that will be tied to this certificate. This way, the same username can be used more than once without conflict.</p></li>
<li><p>usages (list of strings) = The purpose of the certificate.</p>
<ul>
<li><p>any</p></li>
<li><p>cert sign</p></li>
<li><p>client auth</p></li>
<li><p>code signing</p></li>
<li><p>content commitment</p></li>
<li><p>crl sign</p></li>
<li><p>data encipherment</p></li>
<li><p>decipher only</p></li>
<li><p>digital signature</p></li>
<li><p>email protection</p></li>
<li><p>encipher only</p></li>
<li><p>ipsec end system</p></li>
<li><p>ipsec tunnel</p></li>
<li><p>ipsec user</p></li>
<li><p>key agreement</p></li>
<li><p>key encipherment</p></li>
<li><p>microsoft sgc</p></li>
<li><p>netscape sgc</p></li>
<li><p>ocsp signing</p></li>
<li><p>s/mime</p></li>
<li><p>server auth</p></li>
<li><p>signing</p></li>
<li><p>timestamping</p></li>
</ul>
</li>
<li><p>username (string) = The name of the user that will be tied to this certificate.</p></li>
</ul>
<p>[5]</p>
<hr class="docutils" />
<p><strong>Examples:</strong></p>
<p>A CSR for a new end-user account.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nn">---</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">CertificateSigningRequest</span>
<span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">certificates.k8s.io/v1</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">csr-henry</span>
<span class="nt">spec</span><span class="p">:</span>
  <span class="nt">request</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;BASE64_ENCODED_CERTIFICATE&gt;</span>
  <span class="nt">signerName</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">kubernetes.io/kube-apiserver-client</span>
  <span class="nt">groups</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">system:authenticated</span>
  <span class="nt">usages</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">client auth</span>
</pre></div>
</div>
<p>A CSR for a new end-user account that will have administrator access.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nn">---</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">CertificateSigningRequest</span>
<span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">certificates.k8s.io/v1</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">csr-harry</span>
<span class="nt">spec</span><span class="p">:</span>
  <span class="nt">request</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;BASE64_ENCODED_CERTIFICATE&gt;</span>
  <span class="nt">signerName</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">kubernetes.io/kube-apiserver-client</span>
  <span class="nt">groups</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">system:authenticated</span>
  <span class="nt">usages</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">client auth</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">digital signature</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">key encipherment</span>
</pre></div>
</div>
<p>A CSR for a Kubernetes component added to the cluster.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nn">---</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">CertificateSigningRequest</span>
<span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">certificates.k8s.io/v1</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">csr-kube-new-operator</span>
<span class="nt">spec</span><span class="p">:</span>
  <span class="nt">request</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;BASE64_ENCODED_CERTIFICATE&gt;</span>
  <span class="nt">signerName</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">kubernetes.io/kubelet-serving</span>
  <span class="nt">groups</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">system:serviceaccount</span>
  <span class="nt">usages</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">digital signature</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">key encipherment</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">server auth</span>
</pre></div>
</div>
</div>
<div class="section" id="clusterrole">
<h4><a class="toc-backref" href="#id28">ClusterRole</a><a class="headerlink" href="#clusterrole" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p>API group / version (latest): rbac.authorization.k8s.io/v1</p></li>
<li><p>Shortname: (None)</p></li>
<li><p>Namespaced: false</p></li>
</ul>
<p>View the <a class="reference external" href="#role">Role API</a> documentation. The spec is exactly the same except ClusterRole does not support being namespaced.</p>
</div>
<div class="section" id="clusterrolebinding">
<h4><a class="toc-backref" href="#id29">ClusterRoleBinding</a><a class="headerlink" href="#clusterrolebinding" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p>API group / version (latest): rbac.authorization.k8s.io/v1</p></li>
<li><p>Shortname: (None)</p></li>
<li><p>Namespaced: false</p></li>
</ul>
<p>View the <a class="reference external" href="#rolebinding">RoleBinding API</a> documentation. The spec is exactly the same except ClusterRoleBinding does not support being namespaced.</p>
</div>
<div class="section" id="namespace">
<h4><a class="toc-backref" href="#id30">Namespace</a><a class="headerlink" href="#namespace" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p>API group / version (latest): v1</p></li>
<li><p>Shortname: ns</p></li>
<li><p>Namespaced: false</p></li>
</ul>
<hr class="docutils" />
<p><code class="docutils literal notranslate"><span class="pre">ns.spec:</span></code></p>
<ul class="simple">
<li><p>finalizers (list of strings) = This list must be empty before a namespace can be deleted. It can contain any arbitrary values.</p></li>
</ul>
<hr class="docutils" />
<p><strong>Examples:</strong></p>
<p>NS example.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nn">---</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Namespace</span>
<span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">new-namespace</span>
</pre></div>
</div>
<p>NS with finalizers.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nn">---</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Namespace</span>
<span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">my-namespace</span>
<span class="nt">spec</span><span class="p">:</span>
  <span class="nt">finalizers</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">foo</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">bar</span>
</pre></div>
</div>
<p>[5]</p>
</div>
<div class="section" id="networkpolicy">
<h4><a class="toc-backref" href="#id31">NetworkPolicy</a><a class="headerlink" href="#networkpolicy" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p>API group / version (latest): networking.k8s.io/v1</p></li>
<li><p>Shortname: netpol</p></li>
<li><p>Namespaced: true</p></li>
</ul>
<hr class="docutils" />
<p><code class="docutils literal notranslate"><span class="pre">netpol.spec:</span></code></p>
<ul>
<li><p>egress (map)</p>
<ul class="simple">
<li><p>ports (list of maps)</p>
<ul>
<li><p>port (string)</p></li>
<li><p>protocol (string)</p></li>
</ul>
</li>
<li><p>to (list of maps)</p>
<ul>
<li><p>ipBlock (map) = IP addresses that are allowed.</p>
<ul>
<li><p><strong>cidr</strong> (string) = A CIDR of IP addresses to allow.</p></li>
<li><p>except (list of strings) = A CIDR of IP addresses to exclude from the <code class="docutils literal notranslate"><span class="pre">cidr</span></code> range.</p></li>
</ul>
</li>
<li><p>namespaceSelector (<a class="reference external" href="#selector">map of Selector</a>) = The Namespace to apply the NetworkPolicy for. By default, it is the Namespace that the Pod is in. If this field is empty, it will apply the NetworkPolicy to all Namespaces.</p></li>
<li><p>podSelector (<a class="reference external" href="#selector">map of Selector</a>) = The Pod to apply the NetworkPolicy to. If this field is empty, the NetworkPolicy will apply to all Pods.</p></li>
</ul>
</li>
</ul>
</li>
<li><p>ingress (map)</p>
<ul class="simple">
<li><p>ports (list of maps)</p>
<ul>
<li><p>port (string)</p></li>
<li><p>protocol (string)</p></li>
</ul>
</li>
<li><p>from (list of maps)</p>
<ul>
<li><p>ipBlock (map)</p>
<ul>
<li><p><strong>cidr</strong> (string)</p></li>
<li><p>except (list of strings)</p></li>
</ul>
</li>
<li><p>namespaceSelector (<a class="reference external" href="#selector">map of Selector</a>)</p></li>
<li><p>podSelector (<a class="reference external" href="#selector">map of Selector</a>)</p></li>
</ul>
</li>
</ul>
</li>
<li><p><strong>podSelector</strong> (<a class="reference external" href="#selector">map of Selector</a>)</p></li>
<li><p>policyTypes (list of strings) = Optionally explicitly define the NetworkPolicy type. If not defined, it will be determined based on if <code class="docutils literal notranslate"><span class="pre">netpol.spec.egress</span></code> and/or <code class="docutils literal notranslate"><span class="pre">netpol.spec.ingress</span></code> are defined. By defining only “Ingress” or “Egress”, the opposite traffic type will be completely disallowed.</p>
<blockquote>
<div><ul class="simple">
<li><p>Ingress</p></li>
<li><p>Egress</p></li>
<li><p>“Ingress,Egress”</p></li>
</ul>
</div></blockquote>
</li>
</ul>
<p>[5]</p>
<hr class="docutils" />
<p><strong>Examples</strong>:</p>
<p>Deny all incoming traffic to all Pods in a namespace.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nn">---</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">NetworkPolicy</span>
<span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">networking.k8s.io/v1</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">netpol-deny-in</span>
  <span class="nt">namespace</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">foobar</span>
<span class="nt">spec</span><span class="p">:</span>
  <span class="nt">podSelector</span><span class="p">:</span> <span class="p p-Indicator">{}</span>
  <span class="nt">policyTypes</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">Ingress</span>
</pre></div>
</div>
<p>Allow all incoming traffic to all Pods in a namespace.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nn">---</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">NetworkPolicy</span>
<span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">networking.k8s.io/v1</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">netpol-allow-in</span>
  <span class="nt">namespace</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">foobar</span>
<span class="nt">spec</span><span class="p">:</span>
  <span class="nt">podSelector</span><span class="p">:</span> <span class="p p-Indicator">{}</span>
  <span class="nt">policyTypes</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">Ingress</span>
  <span class="nt">ingress</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="p p-Indicator">{}</span>
</pre></div>
</div>
<p>Only allow outgoing traffic to access port 443.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nn">---</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">NetworkPolicy</span>
<span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">networking.k8s.io/v1</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">netpol-https-out</span>
<span class="nt">spec</span><span class="p">:</span>
  <span class="nt">podSelector</span><span class="p">:</span>
    <span class="nt">matchLabels</span><span class="p">:</span>
      <span class="nt">app</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">my-new-app</span>
  <span class="nt">policyTypes</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">Egress</span>
  <span class="nt">egress</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">ports</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="nt">protocol</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">TCP</span>
        <span class="nt">port</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">443</span>
</pre></div>
</div>
<p>Only allow incoming traffic to access port 53 via TCP and UDP.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nn">---</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">NetworkPolicy</span>
<span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">networking.k8s.io/v1</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">netpol-dns-in</span>
<span class="nt">spec</span><span class="p">:</span>
  <span class="nt">podSelector</span><span class="p">:</span>
    <span class="nt">matchLabels</span><span class="p">:</span>
      <span class="nt">app</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">dns</span>
  <span class="nt">policyTypes</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">Ingress</span>
  <span class="nt">ingress</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">ports</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="nt">protocol</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">TCP</span>
        <span class="nt">port</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">53</span>
      <span class="p p-Indicator">-</span> <span class="nt">protocol</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">UDP</span>
        <span class="nt">port</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">53</span>
</pre></div>
</div>
<p>Only allow incoming traffic from a specified CIDR range.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nn">---</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">NetworkPolicy</span>
<span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">networking.k8s.io/v1</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">netpol-internal-in</span>
<span class="nt">spec</span><span class="p">:</span>
  <span class="nt">podSelector</span><span class="p">:</span>
    <span class="nt">matchLabels</span><span class="p">:</span>
      <span class="nt">app</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">foobar</span>
  <span class="nt">ingress</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">from</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="nt">ipBlock</span><span class="p">:</span>
          <span class="nt">cidr</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">10.0.0.0/24</span>
</pre></div>
</div>
<p>Only allow incoming traffic from a specific namespace.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nn">---</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">NetworkPolicy</span>
<span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">networking.k8s.io/v1</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">netpol-ns-in</span>
<span class="nt">spec</span><span class="p">:</span>
  <span class="nt">podSelector</span><span class="p">:</span>
    <span class="nt">matchLabels</span><span class="p">:</span>
      <span class="nt">app</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">foobar</span>
  <span class="nt">ingress</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">from</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="nt">namespaceSelector</span><span class="p">:</span>
          <span class="nt">matchLabels</span><span class="p">:</span>
            <span class="nt">foo</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">bar</span>
</pre></div>
</div>
</div>
<div class="section" id="persistentvolume">
<h4><a class="toc-backref" href="#id32">PersistentVolume</a><a class="headerlink" href="#persistentvolume" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p>API group / version (latest): v1</p></li>
<li><p>Shortname: pv</p></li>
<li><p>Namespaced: false</p></li>
</ul>
<hr class="docutils" />
<p><code class="docutils literal notranslate"><span class="pre">pv.spec:</span></code></p>
<ul class="simple">
<li><p><strong>accessModes</strong> (list) [2]</p>
<ul>
<li><p>ReadOnlyMany = More than one Pod can only read the data to/from this storage</p></li>
<li><p>ReadWriteOnce = Only one Pod can read and write to/from this storage.</p></li>
<li><p>ReadWriteMany = More than one Pod can read and write data to/from this storage.</p></li>
</ul>
</li>
<li><p><strong>capacity (map)</strong></p>
<ul>
<li><p><strong>storage (string)</strong> = The capacity, in “Gi”, that the PV pool contains.</p></li>
</ul>
</li>
<li><p>claimRef (map) = A reference to bind this PVC object to a PV object.</p></li>
<li><p>mountOptions (list) = Linux mount options for the PVC on a Pod.</p></li>
<li><p>nodeAffinity (map) = NodeAffinity settings for selecting what Worker Nodes this PVC should be used on.</p></li>
<li><p>persistentVolumeReclaimPolicy (string) = What to do when the volume is no longer required by a Pod.</p>
<ul>
<li><p>Retain = Default for manually provisioned PV.</p></li>
<li><p>Delete = Default for dynamically provisioned PV.</p></li>
</ul>
</li>
<li><p><strong>storageClassName (string)</strong> = Any unique name or the name of an existing StorageClass to inherit attributes from. It is used by PVCs to identify the PV to create storage from. Leave blank to use the default StorageClass (if one exists).</p></li>
<li><p>volumeMode (string) = The volume type required for the PVC object.</p></li>
</ul>
<p><strong>Storage plugin types (select one and then configure the map of settings):</strong></p>
<ul class="simple">
<li><p>awsElasticBlockStore</p></li>
<li><p>azureDisk</p></li>
<li><p>azureFile</p></li>
<li><p>cephfs</p>
<ul>
<li><p><strong>monitors</strong> (list of strings) = Ceph monitors to connect to.</p></li>
<li><p>path (string) = Default is /. The mounted root.</p></li>
<li><p>readOnly (boolean) - If the PV will be read-only.</p></li>
<li><p>secretFile (string) = Default is /etc/ceph/user.secret. The key ring file used for authenticating as the RADOS user.</p></li>
<li><p>secretRef (map)</p>
<ul>
<li><p>name (string) = The name of the Secret object that contains the RADOS key ring file. Use “key” as the key name in the Secret.</p></li>
</ul>
</li>
<li><p>user (string) = The RADOS user.</p></li>
</ul>
</li>
<li><p>csi</p></li>
<li><p>cinder = OpenStack’s Block-Storage-as-a-Service.</p>
<ul>
<li><p>fsType (string) = Default is ext4. The file system of the volume.</p></li>
<li><p>readOnly (boolean)</p></li>
<li><p>secretRef (map) = Authentication details for OpenStack.</p></li>
<li><p><strong>volumeID</strong> (string) = The Cinder volume ID to use.</p></li>
</ul>
</li>
<li><p>fc (Fibre Channel)</p></li>
<li><p>flexVolume</p></li>
<li><p>flocker</p></li>
<li><p>gcePersistentDisk</p></li>
<li><p>glusterfs</p>
<ul>
<li><p><strong>endpoints</strong> (string) = The Endpoint that is tied to all of the GlusterFS server IPs.</p></li>
<li><p>endpointsNamespace (string) = The namespace the Endpoint is in.</p></li>
<li><p><strong>path</strong> = The GlusterFS network volume/share name.</p></li>
<li><p>readOnly (boolean)</p></li>
</ul>
</li>
<li><p>hostPath = Use a local directory on a Worker Node to store data. Set a “nodeAffinity” to the Worker Node that will have the hostPath directory and data available.</p>
<ul>
<li><p><strong>path</strong> (string) = The file system path to use.</p></li>
<li><p>type (string) = How to manage the path.</p>
<ul>
<li><p>“” = No operation on the path.</p></li>
<li><p>BlockDevice = Use a block device.</p></li>
<li><p>CharDevice = Use a character device.</p></li>
<li><p>Directory = Use an existing directory.</p></li>
<li><p>DirectoryOrCreate = Create the directory if it does not exist.</p></li>
<li><p>File = Use an existing file.</p></li>
<li><p>FileOrCreate = Create the file if it does not exist.</p></li>
<li><p>Socket = Use a UNIX socket.</p></li>
</ul>
</li>
</ul>
</li>
<li><p>iscsi</p>
<ul>
<li><p>chapAuthDiscovery (boolean)</p></li>
<li><p>chapAuthSession (boolean)</p></li>
<li><p>fsType (string)</p></li>
<li><p>initiatorName (string) = Set a custom iSCSI Initiator name.</p></li>
<li><p><strong>iqn</strong> (string) = The iSCSI Target.</p></li>
<li><p>iscsiInterface (string) = Default is default. The iSCSI Interface name.</p></li>
<li><p><strong>lun</strong> (integer) = The Target LUN number.</p></li>
<li><p>portals (list of strings) = A list of <code class="docutils literal notranslate"><span class="pre">&lt;IP&gt;:&lt;PORT&gt;</span></code> strings for each iSCSI Portal.</p></li>
<li><p>readOnly (boolean)</p></li>
<li><p>secretRef (map)</p>
<ul>
<li><p>name (string) = The Secret object that contains the CHAP authentication details.</p></li>
</ul>
</li>
<li><p><strong>targetPortal</strong> (string) = The primary iSCSI Target Portal to use.</p></li>
</ul>
</li>
<li><p>local = Mount a local partition.</p>
<ul>
<li><p>fsType (string)</p></li>
<li><p><strong>path</strong> (string) = The full path to the partition to mount.</p></li>
</ul>
</li>
<li><p>nfs</p>
<ul>
<li><p><strong>path</strong> (string) = The NFS file share.</p></li>
<li><p>readOnly (boolean)</p></li>
<li><p><strong>server</strong> (string) = The NFS server address.</p></li>
</ul>
</li>
<li><p>photonPersistentDisk</p></li>
<li><p>portworxVolume</p></li>
<li><p>quobyte</p></li>
<li><p>rbd</p>
<ul>
<li><p>fsType (string)</p></li>
<li><p><strong>image</strong> (string) = The RADOS image to use.</p></li>
<li><p><strong>monitors</strong> (list of strings) = The list of Ceph monitors to connect to.</p></li>
<li><p>pool (string) = The RADOS pool to use.</p></li>
<li><p>readOnly (boolean)</p></li>
<li><p>secretRef (map)</p>
<ul>
<li><p>name (string) = The Secret name to used for authenticating as the RADOS user.</p></li>
</ul>
</li>
<li><p>user (string)</p></li>
</ul>
</li>
<li><p>scaleIO</p></li>
<li><p>storageos</p></li>
<li><p>vsphereVolume</p></li>
</ul>
<p>[5][21]</p>
<hr class="docutils" />
<p><strong>Examples:</strong></p>
<p>PV with CephFS.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nn">---</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Secret</span>
<span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">secret-cephfs-key</span>
<span class="nt">data</span><span class="p">:</span>
  <span class="nt">key</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">lEhoWAwcyRxurSYkGwizxUtVFagtlPIJEntXmzNyfWaCmCMRRuliOr==</span>
</pre></div>
</div>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nn">---</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">PersistentVolume</span>
<span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">pv-cephfs</span>
<span class="nt">spec</span><span class="p">:</span>
  <span class="nt">accessModes</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">ReadWriteMany</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">ReadWriteOnce</span>
  <span class="nt">capacity</span><span class="p">:</span>
    <span class="nt">storage</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">100Gi</span>
  <span class="nt">cephfs</span><span class="p">:</span>
    <span class="nt">monitors</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">10.0.0.101</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">10.0.0.102</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">10.0.0.103</span>
    <span class=" -Error"> </span><span class="nt">secretRef</span><span class="p">:</span>
       <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">secret-cephfs-key</span>
     <span class="nt">user</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">foo</span>
</pre></div>
</div>
<p>PV with OpenStack’s Cinder block storage service. The Kubernetes cluster must first be <a class="reference external" href="https://docs.openshift.com/container-platform/3.11/install_config/configuring_openstack.html#install-config-configuring-openstack">configured to work with OpenStack</a>.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nn">---</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">PersistentVolume</span>
<span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">pv-cinder</span>
<span class="nt">spec</span><span class="p">:</span>
  <span class="nt">accessModes</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">ReadWriteMany</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">ReadWriteOnce</span>
  <span class="nt">capacity</span><span class="p">:</span>
    <span class="nt">storage</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">10Gi</span>
  <span class="nt">cinder</span><span class="p">:</span>
    <span class="nt">fsType</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">ext4</span>
    <span class="nt">volumeID</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">d6dac7fb-e17f-44bb-9708-ee27a679273b</span>
</pre></div>
</div>
<p>PV with GlusterFS. The GlusterFS client utility <code class="docutils literal notranslate"><span class="pre">glusterfs-fuse</span></code> needs to be installed on each Node. A Service and Endpoint are required to access the network shares. They both must share the same object name. The “ports” values are not used but are required by the APIs. [20]</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nn">---</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Service</span>
<span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">glusterfs-network</span>
<span class="nt">spec</span><span class="p">:</span>
  <span class="nt">ports</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">port</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="nn">---</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Endpoint</span>
<span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">glusterfs-network</span>
<span class="nt">subsets</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">addresses</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="nt">ip</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">10.10.10.201</span>
    <span class="nt">ports</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="nt">port</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
  <span class="p p-Indicator">-</span> <span class="nt">addresses</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="nt">ip</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">10.10.10.202</span>
    <span class="nt">ports</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="nt">port</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
  <span class="p p-Indicator">-</span> <span class="nt">addresses</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="nt">ip</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">10.10.10.203</span>
    <span class="nt">ports</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="nt">port</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
</pre></div>
</div>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nn">---</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">PersistentVolume</span>
<span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">pv-glusterfs</span>
<span class="nt">spec</span><span class="p">:</span>
  <span class="nt">accessModes</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">ReadWriteMany</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">ReadWriteOnce</span>
  <span class="nt">capacity</span><span class="p">:</span>
    <span class="nt">storage</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">300Mi</span>
  <span class="nt">glusterfs</span><span class="p">:</span>
    <span class="nt">endpoints</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">glusterfs-network</span>
    <span class="nt">path</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">glusterVol</span>
</pre></div>
</div>
<p>PV with hostPath.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nn">---</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">PersistentVolume</span>
<span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">pv-hostpath</span>
<span class="nt">spec</span><span class="p">:</span>
  <span class="nt">accessModes</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">ReadWriteOnce</span>
  <span class="nt">capacity</span><span class="p">:</span>
    <span class="nt">storage</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">50Mi</span>
  <span class="nt">hostPath</span><span class="p">:</span>
    <span class="nt">path</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/var/lib/k8s-hospath</span>
    <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">DirectoryOrCreate</span>
</pre></div>
</div>
<p>PV with iSCSI.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nn">---</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Secret</span>
<span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">secret-iscsi-chap</span>
<span class="nt">type</span><span class="p">:</span> <span class="s">&quot;kubernetes.io/iscsi-chap&quot;</span>
<span class="nt">data</span><span class="p">:</span>
  <span class="nt">discovery.sendtargets.auth.username</span><span class="p">:</span>
  <span class="nt">discovery.sendtargets.auth.password</span><span class="p">:</span>
  <span class="nt">discovery.sendtargets.auth.username_in</span><span class="p">:</span>
  <span class="nt">discovery.sendtargets.auth.password_in</span><span class="p">:</span>
  <span class="nt">node.session.auth.username</span><span class="p">:</span>
  <span class="nt">node.session.auth.password</span><span class="p">:</span>
  <span class="nt">node.session.auth.username_in</span><span class="p">:</span>
  <span class="nt">node.session.auth.password_in</span><span class="p">:</span>
</pre></div>
</div>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nn">---</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">PersistentVolume</span>
<span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">pv-iscsi</span>
<span class="nt">spec</span><span class="p">:</span>
  <span class="nt">accessModes</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">ReadWriteOnce</span>
  <span class="nt">capacity</span><span class="p">:</span>
    <span class="nt">storage</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1Ti</span>
  <span class="nt">iscsi</span><span class="p">:</span>
    <span class="nt">chapAuthDiscovery</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
    <span class="nt">chapAuthSession</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
    <span class="nt">fsType</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">xfs</span>
    <span class="nt">iqn</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">iqn.food.bar.tld:example</span>
    <span class="nt">lun</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0</span>
    <span class="nt">readOnly</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
    <span class="nt">secretRef</span><span class="p">:</span>
      <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">secret-iscsi-chap</span>
    <span class="nt">targetPortal</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">192.168.1.15</span>
</pre></div>
</div>
<p>PV with a local mount.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nn">---</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">PersistentVolume</span>
<span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">pv-local</span>
<span class="nt">spec</span><span class="p">:</span>
  <span class="nt">accessModes</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">ReadWriteOnce</span>
  <span class="nt">capacity</span><span class="p">:</span>
    <span class="nt">storage</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">500Gi</span>
  <span class="nt">local</span><span class="p">:</span>
    <span class="nt">fsType</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">xfs</span>
    <span class="nt">path</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/dev/vd3</span>
</pre></div>
</div>
<p>PV with Network File Share (NFS)</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nn">---</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">PersistentVolume</span>
<span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">pv-nfs</span>
<span class="nt">spec</span><span class="p">:</span>
  <span class="nt">accessModes</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">ReadWriteOnce</span>
  <span class="nt">capacity</span><span class="p">:</span>
    <span class="nt">storage</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1Gi</span>
  <span class="nt">nfs</span><span class="p">:</span>
    <span class="nt">path</span><span class="p">:</span> <span class="s">&quot;/&quot;</span>
    <span class="nt">server</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">nfs.server.tld</span>
</pre></div>
</div>
<p>PVC with RADOS Block Device (RBD).</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nn">---</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Secret</span>
<span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">secret-rbd-key</span>
<span class="nt">data</span><span class="p">:</span>
  <span class="nt">key</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">eFuBtFpciHkPQBSrJXVpZnsfluklbDYnPRaLrfjoqGbnZfcfunlSyB==</span>
</pre></div>
</div>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nn">---</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">PersistentVolume</span>
<span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">pv-rbd</span>
<span class="nt">spec</span><span class="p">:</span>
  <span class="nt">capacity</span><span class="p">:</span>
    <span class="nt">storage</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">150Gi</span>
  <span class="nt">rbd</span><span class="p">:</span>
    <span class="nt">monitors</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">10.0.0.201</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">10.0.0.202</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">10.0.0.203</span>
    <span class=" -Error"> </span><span class="nt">secretRef</span><span class="p">:</span>
       <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">secret-rbd-key</span>
     <span class="nt">user</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">fu</span>
</pre></div>
</div>
<p>[19]</p>
</div>
<div class="section" id="role">
<h4><a class="toc-backref" href="#id33">Role</a><a class="headerlink" href="#role" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p>API group / version (latest): rbac.authorization.k8s.io/v1</p></li>
<li><p>Shortname: (None)</p></li>
<li><p>Namespaced: true</p></li>
</ul>
<hr class="docutils" />
<ul class="simple">
<li><p>rules (list of maps)</p>
<ul>
<li><p>apiGroups (list of strings) = The API groups that can be accessed.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;&quot;</span></code> = Use two double quotes to indicate the core API group.</p></li>
</ul>
</li>
<li><p>resourceNames (list of strings) = The name of specific objects that can be managed. By default, all objects from a resource API can be managed.</p></li>
<li><p>resource (list of strings) = The API resources that can be accessed.</p></li>
<li><p>verbs (list of strings) = The actions that can be taken on the specified API resources. [31]</p>
<ul>
<li><p>bind = Used for Role and ClusterRole APIs only. Associate a Role or ClusterRole to a RoleBinding or ClusterRoleBinding.</p></li>
<li><p>create = Create new objects.</p></li>
<li><p>delete = Delete a single object.</p></li>
<li><p>deletecollection = Delete one or more objects at the same time.</p></li>
<li><p>escalate = Used for Role and ClusterRole API only.</p></li>
<li><p>get = View one or more existing objects.</p></li>
<li><p>impersonate = Used for User, Group, and ServiceAccount APIs only. Use the API as a different account.</p></li>
<li><p>list = View all existing objects.</p></li>
<li><p>patch = Patch an object.</p></li>
<li><p>update = Update and object.</p></li>
<li><p>use = Used for the PodSecurityPolicy API only. Use a specific policy with an object.</p></li>
<li><p>watch = Watch an object for updates.</p></li>
</ul>
</li>
</ul>
</li>
</ul>
<p>[5][32]</p>
<hr class="docutils" />
<p><strong>Examples:</strong></p>
<p>A role for read-only access of the Pod API.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nn">---</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Role</span>
<span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">rbac.authorization.k8s.io/v1</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">role-ro-pods</span>
  <span class="nt">namespace</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">default</span>
<span class="nt">rules</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">apiGroups</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="s">&quot;&quot;</span>
    <span class="nt">resources</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">pods</span>
    <span class="nt">verbs</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">get</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">list</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">watch</span>
</pre></div>
</div>
<p>A role for full access to the Ingress and Service APIs.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nn">---</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Role</span>
<span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">rbac.authorization.k8s.io/v1</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">role-rw-network</span>
  <span class="nt">namespace</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">default</span>
<span class="nt">rules</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">apiGroups</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="s">&quot;&quot;</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">networking.k8s.io</span>
    <span class="nt">resources</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">ingresses</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">services</span>
    <span class="nt">verbs</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">create</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">delete</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">deletecollection</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">get</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">list</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">patch</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">update</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">watch</span>
</pre></div>
</div>
<p>A role for creating and modifying, but not deleting, PersistentVolume and PersistentVolumeClaim objects.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nn">---</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Role</span>
<span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">rbac.authorization.k8s.io/v1</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">role-create-volumes</span>
  <span class="nt">namespace</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">default</span>
<span class="nt">rules</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">apiGroups</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="s">&quot;&quot;</span>
    <span class="nt">resources</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">persistentvolumes</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">persistentvolumeclaims</span>
    <span class="nt">verbs</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">create</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">get</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">list</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">patch</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">update</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">watch</span>
</pre></div>
</div>
<p>A role for managining specific existing Deployment objects.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nn">---</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Role</span>
<span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">rbac.authorization.k8s.io/v1</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">role-devteam2</span>
  <span class="nt">namespace</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">default</span>
<span class="nt">rules</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">apiGroups</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="s">&quot;apps/v1&quot;</span>
    <span class="nt">resourceNames</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="s">&quot;deployment-frontend&quot;</span>
      <span class="p p-Indicator">-</span> <span class="s">&quot;deployment-backend&quot;</span>
    <span class="nt">resources</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">deployments</span>
    <span class="nt">verbs</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">create</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">get</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">list</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">patch</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">update</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">watch</span>
</pre></div>
</div>
</div>
<div class="section" id="rolebinding">
<h4><a class="toc-backref" href="#id34">RoleBinding</a><a class="headerlink" href="#rolebinding" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p>API group / version (latest): rbac.authorization.k8s.io/v1</p></li>
<li><p>Shortname: (None)</p></li>
<li><p>Namespaced: true</p></li>
</ul>
<hr class="docutils" />
<ul class="simple">
<li><p><strong>roleRef</strong> (map) = The Role to use.</p>
<ul>
<li><p><strong>apiGroup</strong> (string) = <code class="docutils literal notranslate"><span class="pre">rbac.authorization.k8s.io</span></code>.</p></li>
<li><p><strong>kind</strong> (string) = <code class="docutils literal notranslate"><span class="pre">Role</span></code> or <code class="docutils literal notranslate"><span class="pre">ClusterRole</span></code>.</p></li>
<li><p><strong>name</strong> (string) = The name of the Role object.</p></li>
</ul>
</li>
<li><p>subjects (list of maps) = The account(s) to bind the Role to.</p>
<ul>
<li><p>apiGroup (string) = <code class="docutils literal notranslate"><span class="pre">rbac.authorization.k8s.io</span></code>.</p></li>
<li><p><strong>kind</strong> (string) = The type of account: <code class="docutils literal notranslate"><span class="pre">User</span></code>, <code class="docutils literal notranslate"><span class="pre">Group</span></code>, or <code class="docutils literal notranslate"><span class="pre">ServiceAccount</span></code>.</p></li>
<li><p><strong>name</strong> (string) = The name of the account object.</p></li>
<li><p>namespace (string) = The namespace the account is in.</p></li>
</ul>
</li>
</ul>
<hr class="docutils" />
<p><strong>Examples:</strong></p>
<p>Bind the role <code class="docutils literal notranslate"><span class="pre">role-dev</span></code> to the user <code class="docutils literal notranslate"><span class="pre">annie</span></code>.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nn">---</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">RoleBinding</span>
<span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">rbac.authorization.k8s.io/v1</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">rolebinding-dev</span>
  <span class="nt">namespace</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">default</span>
<span class="nt">roleRef</span><span class="p">:</span>
  <span class="nt">apiGroup</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">rbac.authorization.k8s.io</span>
  <span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Role</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">role-dev</span>
<span class="nt">subjects</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">apiGroup</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">rbac.authorization.k8s.io</span>
    <span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">User</span>
    <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">annie</span>
</pre></div>
</div>
</div>
<div class="section" id="serviceaccount">
<h4><a class="toc-backref" href="#id35">ServiceAccount</a><a class="headerlink" href="#serviceaccount" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p>API group / version (latest): v1</p></li>
<li><p>Shortname: sa</p></li>
<li><p>Namespaced: true</p></li>
</ul>
<hr class="docutils" />
<p>There is no <code class="docutils literal notranslate"><span class="pre">spec</span></code> section for ServiceAccounts.</p>
<p><code class="docutils literal notranslate"><span class="pre">sa:</span></code></p>
<ul class="simple">
<li><p>automountServiceAccountToken (boolean) = If the ServiceAccount token should be automatically mounted on Pods.</p></li>
<li><p>imagePullSecrets (list of maps) = A list of Secrets to use for pulling container images from a remote source.</p>
<ul>
<li><p>name (string) = The name of the Secret object.</p></li>
</ul>
</li>
<li><p>secrets (list of maps) = A list of Secret objects that can be used for authenticating to the ServiceAccount.</p>
<ul>
<li><p>apiVersion (string)</p></li>
<li><p>fieldPath (string)</p></li>
<li><p>kind (string)</p></li>
<li><p><strong>name</strong> (string) = The name of the Secret object to use.</p></li>
<li><p>namespace (string)</p></li>
<li><p>resourceVersion (string)</p></li>
<li><p>uid (string)</p></li>
</ul>
</li>
</ul>
<hr class="docutils" />
<p><strong>Examples:</strong></p>
<p>ServiceAccount example. A random Secret token will automatically be generated.</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>---
kind: ServiceAccount
apiVersion: v1
metadata:
  name: sa-bot
  namespace: ci-automation
</pre></div>
</div>
<p>ServiceAccount using an existing Secret token.</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>---
kind: ServiceAccount
apiVersion: v1
metadata:
  name: sa-example
secrets:
  - name: secret-foo-bar
</pre></div>
</div>
<p>[5]</p>
</div>
</div>
<div class="section" id="config-and-storage">
<h3><a class="toc-backref" href="#id36">Config and Storage</a><a class="headerlink" href="#config-and-storage" title="Permalink to this headline">¶</a></h3>
<p>Config and storage APIs manages key-value stores and persistent data storage. [5]</p>
<ul class="simple">
<li><p>core</p>
<ul>
<li><p>ConfigMap = Manage key-value stores.</p></li>
<li><p>Secret = Manage base64 encoded key-value stores.</p></li>
<li><p>PersistentVolumeClaim = Manage persistent storage created from a PersistentVolume.</p></li>
<li><p>Volume = Manage local or network volume mounts.</p></li>
</ul>
</li>
<li><p>storage.k8s.io</p>
<ul>
<li><p>CSIDriver = Define how Kubernetes will interact with the CSI storage back-end.</p></li>
<li><p>CSINode = Define CSI drivers.</p></li>
<li><p>StorageClass = Manage the automatic creation of persistent storage.</p></li>
<li><p>VolumeAttachment = Record when a CSI volume is created. This is used by other resources to then act upon the creation of the object.</p></li>
</ul>
</li>
</ul>
<div class="section" id="configmap">
<h4><a class="toc-backref" href="#id37">ConfigMap</a><a class="headerlink" href="#configmap" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p>API group / version (latest): v1</p></li>
<li><p>Shortname: cm</p></li>
<li><p>Namespaced: true</p></li>
</ul>
<p>ConfigMap does not have a <code class="docutils literal notranslate"><span class="pre">cm.spec</span></code> section. The <code class="docutils literal notranslate"><span class="pre">cm.data:</span></code> field is used the most.</p>
<p><code class="docutils literal notranslate"><span class="pre">cm:</span></code></p>
<ul class="simple">
<li><p>binaryData (map) = Define key-value pairs where the value is a base64 encoded string.</p></li>
<li><p>data (map) = Define key-value pairs.</p></li>
<li><p>immutable (boolean) = If the key-value pairs in the object should be read-only.</p></li>
</ul>
<p>[5]</p>
<hr class="docutils" />
<p><strong>Examples:</strong></p>
<p>ConfigMap using all of it’s available options.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nn">---</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">ConfigMap</span>
<span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">cm-env</span>
<span class="nt">immutable</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="nt">data</span><span class="p">:</span>
  <span class="nt">hello</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">world</span>
  <span class="nt">foo</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">bar</span>
<span class="nt">binaryData</span><span class="p">:</span>
  <span class="nt">goodbye</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Y3J1ZWwgd29ybGQ=</span>
</pre></div>
</div>
</div>
<div class="section" id="persistentvolumeclaim">
<h4><a class="toc-backref" href="#id38">PersistentVolumeClaim</a><a class="headerlink" href="#persistentvolumeclaim" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p>API group / version (latest): v1</p></li>
<li><p>Shortname: pvc</p></li>
<li><p>Namespaced: true</p></li>
</ul>
<hr class="docutils" />
<p>Use either <code class="docutils literal notranslate"><span class="pre">pvc.spec.selector</span></code>, <code class="docutils literal notranslate"><span class="pre">pvc.spec.storageClassName</span></code>, or <code class="docutils literal notranslate"><span class="pre">pvc.spec.volumeName</span></code> to define what PersistentVolume to bind to.</p>
<p><code class="docutils literal notranslate"><span class="pre">pvc.spec:</span></code></p>
<ul class="simple">
<li><p><strong>accessModes</strong> (list of strings) = The accessModes to allow. The lists values must also be allowed in the PV.</p>
<ul>
<li><p>ReadOnlyMany</p></li>
<li><p>ReadWriteOnce</p></li>
<li><p>ReadWriteMany</p></li>
</ul>
</li>
<li><p>dataSource (map) An existing object to create a new PVC object from.</p>
<ul>
<li><p>apiGroup (string) = The API group for the kind. Do not define this key if using PersistentVolume. Use “snapshot.storage.k8s.io” as the value for VolumeSnapshot.</p></li>
<li><p><strong>kind</strong> (string) = PersistentVolumeClaim or VolumeSnapshot.</p></li>
<li><p><strong>name</strong> (string) = The object name.</p></li>
</ul>
</li>
<li><p><strong>resources</strong> (map)</p>
<ul>
<li><p>limits (map) = The maximum storage allocation.</p>
<ul>
<li><p>storage (string) = Specify the requested storage size in the format <code class="docutils literal notranslate"><span class="pre">&lt;PVC_STORAGE&gt;Gi</span></code>.</p></li>
</ul>
</li>
<li><p><strong>requests</strong> (map) = The minimum storage allocation. This will be the default if <code class="docutils literal notranslate"><span class="pre">limits</span></code> is not defined.</p>
<ul>
<li><p><strong>storage</strong> (string)</p></li>
</ul>
</li>
</ul>
</li>
<li><p><strong>selector</strong> (<a class="reference external" href="#selector">map of Selector</a>) = The key-value label pairs to find a PV to bind to.</p></li>
<li><p><strong>storageClassName</strong> (string) = The StorageClass to create a PVC from.</p></li>
<li><p>volumeMode (string) = How to manage the PVC when attaching it to a Pod.</p>
<ul>
<li><p>Block = The block device will be formatted and then mounted.</p></li>
<li><p>Filesystem = The filesystem will be mounted.</p></li>
</ul>
</li>
<li><p><strong>volumeName</strong> (string) = The PersistentVolume name to create a PVC from.</p></li>
</ul>
<hr class="docutils" />
<p><strong>Examples:</strong></p>
<p>PVC example.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nn">---</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">PersistentVolumeClaim</span>
<span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">pvc-app</span>
<span class="nt">spec</span><span class="p">:</span>
  <span class="nt">accessModes</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">ReadWriteMany</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">ReadWriteOnce</span>
  <span class="nt">resources</span><span class="p">:</span>
    <span class="nt">requests</span><span class="p">:</span>
      <span class="nt">storage</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">5Gi</span>
  <span class="nt">volumeName</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;PERSISTENTVOLUME_NAME&gt;</span>
</pre></div>
</div>
<p>[5]</p>
</div>
<div class="section" id="secret">
<h4><a class="toc-backref" href="#id39">Secret</a><a class="headerlink" href="#secret" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p>API group / version (latest): v1</p></li>
<li><p>Shortname: (None)</p></li>
<li><p>Namespaced: true</p></li>
</ul>
<p>Secrets are <strong>not</strong> encrypted. They use base64 encoding. Secret does not have a <code class="docutils literal notranslate"><span class="pre">secret.spec</span></code> section. The <code class="docutils literal notranslate"><span class="pre">secret.data:</span></code> field is used the most.</p>
<p><code class="docutils literal notranslate"><span class="pre">secret:</span></code></p>
<ul class="simple">
<li><p>data (map) = Define key-value pairs with base64 encoded values.</p></li>
<li><p>immutable (boolean) = If the key-value pairs in the object should be read-only.</p></li>
<li><p>stringData (map) = Define key-value pairs as strings. The values will be converted into base64 and merged into the <code class="docutils literal notranslate"><span class="pre">secret.data</span></code> section. The plain-text values will not be displayed by the API.</p></li>
<li><p>type (string) = The type of Secret to create. The full list can be found <a class="reference external" href="https://github.com/kubernetes/kubernetes/blob/v1.18.0/pkg/apis/core/types.go#L4800-L4886">here</a>. By default, it is “Opaque” meaning that the key-value pairs are general purpose.</p></li>
</ul>
<p>[5]</p>
<hr class="docutils" />
<p><strong>Examples:</strong></p>
<p>Secret using all of it’s available options.</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$ <span class="nb">echo</span> -n <span class="s1">&#39;kenobi&#39;</span> <span class="p">|</span> base64
a2Vub2Jp
</pre></div>
</div>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nn">---</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Secret</span>
<span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">secret-http-auth</span>
<span class="nt">immutable</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">kubernetes.io/basic-auth</span>
<span class="nt">stringData</span><span class="p">:</span>
  <span class="nt">username</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">obiwan</span>
<span class="nt">data</span><span class="p">:</span>
  <span class="nt">password</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">a2Vub2Jp</span>
</pre></div>
</div>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$ kubectl get secret secret-http-auth -o yaml <span class="p">|</span> grep -A <span class="m">2</span> ^data:
data:
  password: a2Vub2Jp
  username: b2Jpd2Fu
</pre></div>
</div>
<p>[5]</p>
</div>
</div>
<div class="section" id="metadata">
<h3><a class="toc-backref" href="#id40">Metadata</a><a class="headerlink" href="#metadata" title="Permalink to this headline">¶</a></h3>
<p>Metadata APIs are used to change the behvaior of other objects. [5]</p>
<ul class="simple">
<li><p>admissionregistration.k8s.io</p>
<ul>
<li><p>MutatingWebhookConfiguration = Validate and optionally modify API webhook requests.</p></li>
<li><p>ValidatingWebhookConfiguration = Validate API webhook requests.</p></li>
</ul>
</li>
<li><p>apiextensions.k8s.io</p>
<ul>
<li><p>CustomResourceDefinition = Create a new API resource.</p></li>
</ul>
</li>
<li><p>apps</p>
<ul>
<li><p>ControllerRevision = View the full history of a Deployment.</p></li>
<li><p>PodTemplate = Create a base template that can be used to create Pods from.</p></li>
</ul>
</li>
<li><p>autoscaling</p>
<ul>
<li><p>HorizontalPodAutoscaler = Define metrics to collect for automatic Pod scaling.</p></li>
</ul>
</li>
<li><p>core</p>
<ul>
<li><p>Event = Create a custom event to track and log.</p></li>
<li><p>LimitRange = Define default resource requirements for Pods.</p></li>
</ul>
</li>
<li><p>policy</p>
<ul>
<li><p>PodDisruptionBudget = Define the minimum and maximum amount of Pods that should be running during special situations such as eviction.</p></li>
<li><p>PodSecurityPolicy = Define Pod users and permissions.</p></li>
</ul>
</li>
<li><p>scheduling.k8s.io</p>
<ul>
<li><p>PriorityClass = Define a custom priority to be used by Pods.</p></li>
</ul>
</li>
<li><p>settings.k8s.io</p>
<ul>
<li><p>PodPreset = Define default settings that a Pod can use.</p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="service">
<h3><a class="toc-backref" href="#id41">Service</a><a class="headerlink" href="#service" title="Permalink to this headline">¶</a></h3>
<p>Service APIs are used to manage networks for Pods. [5]</p>
<ul class="simple">
<li><p>core</p>
<ul>
<li><p>Endpoints = View simple information about the running Kubernetes networking objects.</p></li>
<li><p>Service = Manage internal access to a Pod.</p></li>
</ul>
</li>
<li><p>discovery.k8s.io</p>
<ul>
<li><p>EndpointSlice = A more advanced implementation of Endpoints.</p></li>
</ul>
</li>
<li><p>networking.k8s.io</p>
<ul>
<li><p>Ingress = Manage external access to a Pod based on an existing Service.</p></li>
<li><p>IngressClass = Configure the Ingress controller back-end.</p></li>
</ul>
</li>
</ul>
<div class="section" id="ingress">
<h4><a class="toc-backref" href="#id42">Ingress</a><a class="headerlink" href="#ingress" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p>API group / version (latest): networking.k8s.io/v1</p></li>
<li><p>Shortname: ing</p></li>
<li><p>Namespaced: true</p></li>
</ul>
<hr class="docutils" />
<p><code class="docutils literal notranslate"><span class="pre">ing.spec:</span></code></p>
<ul class="simple">
<li><p>backend (map) = The default backend for when no rule is matched.</p>
<ul>
<li><p>resource (map) = Use this OR serviceName and servicePort.</p>
<ul>
<li><p>apiGroup (string) = The object API group.</p></li>
<li><p><strong>kind</strong> (string) = The object API kind.</p></li>
<li><p><strong>name</strong> (string) = The object name.</p></li>
</ul>
</li>
<li><p>serviceName (string) = The Service name to use.</p></li>
<li><p>servicePort (string) = The Service port to use.</p></li>
</ul>
</li>
<li><p>ingressClassName (string) = The Ingress Controller to use.</p></li>
<li><p>rules (list of maps) = Rules to define when and where to route public traffic to.</p>
<ul>
<li><p>host (string) = The domain name (not an IP address) to accept requests on. This domain should resolve an IP address on one of the Control Plane Nodes in the Kubernetes cluster.</p></li>
<li><p>http (map)</p>
<ul>
<li><p>paths (list of maps)</p>
<ul>
<li><p><strong>backend</strong> (map) = Backend details specific to this path.</p>
<ul>
<li><p>resource (map)</p>
<ul>
<li><p>apiGroup (string)</p></li>
<li><p><strong>kind</strong> (string)</p></li>
<li><p><strong>name</strong> (string)</p></li>
</ul>
</li>
<li><p>service (map)</p>
<ul>
<li><p>name (string) = The name of the Service object to use as a backend.</p></li>
<li><p>port (map)</p>
<ul>
<li><p>number (integer)</p></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>path (string) = The HTTP path to use. Pathes must begin with <code class="docutils literal notranslate"><span class="pre">/</span></code>.</p></li>
<li><p><strong>pathType</strong> (string) = How to find a match for the path. Default is ImplementationSpecific. This field is required if the Ingress Controller does not have a default.</p>
<ul>
<li><p>Exact = Match the exact path.</p></li>
<li><p>Prefix = Split the path by the <code class="docutils literal notranslate"><span class="pre">/</span></code> character and find a matching path from that ordered list.</p></li>
<li><p>ImplementationSpecific = The IngressClass can determine how to interpret the path.</p></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>tls (list of maps) = List of all of the SSL/TLS certificates.</p>
<ul>
<li><p>hosts (list of strings) = A list of hosts to bind the SSL/TLS certificate to.</p></li>
<li><p>secretName (string) = The Secret object name that contains the SSL/TLS certificate.</p></li>
</ul>
</li>
</ul>
<hr class="docutils" />
<p><strong>Examples:</strong></p>
<p>Ingress with domain name.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nn">---</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Ingress</span>
<span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">networking.k8s.io/v1</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">ing-domain</span>
<span class="nt">spec</span><span class="p">:</span>
  <span class="nt">rules</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">host</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">app.example.com</span>
      <span class="nt">http</span><span class="p">:</span>
        <span class="nt">paths</span><span class="p">:</span>
          <span class="p p-Indicator">-</span> <span class="nt">path</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/app</span>
            <span class="nt">pathType</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Prefix</span>
            <span class="nt">backend</span><span class="p">:</span>
              <span class="nt">service</span><span class="p">:</span>
                <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">svc-foo</span>
                <span class="nt">port</span><span class="p">:</span>
                  <span class="nt">number</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">80</span>
</pre></div>
</div>
<p>Ingress with an existing TLS certificate.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nn">---</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Secret</span>
<span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">secret-tls</span>
<span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">kubernetes.io/tls</span>
<span class="nt">data</span><span class="p">:</span>
  <span class="nt">tls.crt</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;CERTIFICATE_BASE64_ENCODED&gt;</span>
  <span class="nt">tls.key</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;KEY_BASE64_ENCODED&gt;</span>
<span class="nn">---</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Ingress</span>
<span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">networking.k8s.io/v1</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">ing-tls</span>
<span class="nt">spec</span><span class="p">:</span>
  <span class="nt">rules</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">host</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">login.example.com</span>
      <span class="nt">http</span><span class="p">:</span>
        <span class="nt">paths</span><span class="p">:</span>
          <span class="p p-Indicator">-</span> <span class="nt">path</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/</span>
            <span class="nt">pathType</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Prefix</span>
            <span class="nt">backend</span><span class="p">:</span>
              <span class="nt">service</span><span class="p">:</span>
                <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">svc-bar</span>
                <span class="nt">port</span><span class="p">:</span>
                  <span class="nt">number</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">80</span>
  <span class="nt">tls</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">hosts</span><span class="p">:</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">login.example.com</span>
      <span class="nt">secretName</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">secret-tls</span>
</pre></div>
</div>
<p>[5]</p>
<p>Ingress with the internal <code class="docutils literal notranslate"><span class="pre">ing.spec.rules.http.paths.path</span></code> being routed to the root path <code class="docutils literal notranslate"><span class="pre">/</span></code>. In this example, a HTTP request to <code class="docutils literal notranslate"><span class="pre">http://foo.bar.com/</span></code> will load up the contents of <code class="docutils literal notranslate"><span class="pre">http://foo.bar.com/some/path/here/</span></code>.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nn">---</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Ingress</span>
<span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">networking.k8s.io/v1</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">ing-rewrite-target-example</span>
  <span class="nt">annotations</span><span class="p">:</span>
    <span class="c1"># NGINX</span>
    <span class="nt">nginx.ingress.kubernetes.io/rewrite-target</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/</span>
    <span class="c1"># Traefik</span>
    <span class="c1">#traefik.ingress.kubernetes.io/rewrite-target: /</span>
<span class="nt">spec</span><span class="p">:</span>
  <span class="c1"># NGINX</span>
  <span class="nt">ingressClassName</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">nginx</span>
  <span class="c1"># Traefik</span>
  <span class="c1">#ingressClassName: traefik</span>
  <span class="nt">rules</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">host</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">foo.bar.com</span>
      <span class="nt">http</span><span class="p">:</span>
        <span class="nt">paths</span><span class="p">:</span>
          <span class="p p-Indicator">-</span> <span class="nt">path</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/some/path/here</span>
            <span class="nt">pathType</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Prefix</span>
            <span class="nt">backend</span><span class="p">:</span>
              <span class="nt">service</span><span class="p">:</span>
                <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">svc-rewrite-target-example</span>
                <span class="nt">port</span><span class="p">:</span>
                  <span class="nt">number</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">80</span>
</pre></div>
</div>
</div>
<div class="section" id="id6">
<h4><a class="toc-backref" href="#id43">Service</a><a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p>API group / version (latest): v1</p></li>
<li><p>Shortname: svc</p></li>
<li><p>Namespaced: true</p></li>
</ul>
<hr class="docutils" />
<p><code class="docutils literal notranslate"><span class="pre">svc.spec:</span></code></p>
<ul class="simple">
<li><p>clusterIP (string) = Define a static IP address to use for a ClusterIP, LoadBalancer, or Node type.</p></li>
<li><p>externalIPs (list of strings) = Static IP addresses of from an external unmanaged load balancer.</p></li>
<li><p>externalName (string) = The domain name to use for routing internal traffic.</p></li>
<li><p>externalTrafficPolicy (string)</p>
<ul>
<li><p>Cluster = Clustered sessions are slower but equally distributed.</p></li>
<li><p>Local = Local sessions are faster and more reliable but may not be equally distributed.</p></li>
</ul>
</li>
<li><p>healthCheckNodePort (integer) = The port to use for health checks. This only works when these two settings are in use: <code class="docutils literal notranslate"><span class="pre">svc.spec.type:</span> <span class="pre">LoadBalancer</span></code> and <code class="docutils literal notranslate"><span class="pre">svc.spec.externalTrafficPolicy:</span> <span class="pre">Local</span></code></p></li>
<li><p>ipFamily (string) = The IP version to use. <code class="docutils literal notranslate"><span class="pre">IPv4</span></code> or <code class="docutils literal notranslate"><span class="pre">IPv6</span></code>.</p></li>
<li><p>loadBalancerIP (string) = If supported by the cloud-provider, specify an IP address for the load balancer.</p></li>
<li><p>loadBalancerSourceRanges (list of strings) = If supported by the cloud-provider, only allow incoming connects from these IP addresses.</p></li>
<li><p>ports (list of maps) = Ports to expose/open.</p></li>
<li><p>publishNotReadyAddresses (boolean) = Default is false. Publish IP address information to the internal Kubernetes DNS server before a Pod is in a ready state.</p></li>
<li><p><strong>selector</strong> (<a class="reference external" href="#selector">map of Selector</a>) = Bind this Service object to a Pod based on the provided labels.</p></li>
<li><p>sessionAffinity (map) = Default is None.</p>
<ul>
<li><p>ClientIP = Keep the same session for a client connecting to a Pod.</p></li>
<li><p>None = Do not keep the same session. A client reconnecting may connect to a new Pod.</p></li>
</ul>
</li>
<li><p>sessionAffinityConfig (map) = Additional settings for the sessionAffinity.</p>
<ul>
<li><p>clientIP (map)</p>
<ul>
<li><p>timeoutSeconds (integer) = Default is 3 hours. The sticky session timeout in seconds.</p></li>
</ul>
</li>
</ul>
</li>
<li><p>topologyKeys (list of strings) = A list of Endpoint labels to bind to. The first Endpoint found from the list will be used.</p></li>
<li><p><strong>type</strong> (string) = Default is ClusterIP. The type of Service to create.</p>
<ul>
<li><p>ClusterIP = Create an internal IP address that load balances requests to a specific Pod.</p></li>
<li><p>ExternalName = The same as ClusterIP except it relies on a domain name instead of an IP address.</p></li>
<li><p>LoadBalancer = If the cloud provider has an external load balancer offering, this Service object will create a new load balancer.</p></li>
<li><p>NodePort = Open a port on every Node and map it to a specific Pod.</p></li>
</ul>
</li>
</ul>
<hr class="docutils" />
<p><strong>Examples:</strong></p>
<p>SVC with ClusterIP and a static IP address.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nn">---</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Service</span>
<span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">svc-clusterip</span>
<span class="nt">spec</span><span class="p">:</span>
  <span class="nt">clusterIP</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">10.0.0.222</span>
  <span class="nt">ports</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">port</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">80</span>
      <span class="nt">protocol</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">TCP</span>
      <span class="nt">targetPort</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">80</span>
  <span class="nt">selector</span><span class="p">:</span>
    <span class="nt">&lt;POD_LABEL_KEY&gt;</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;POD_LABEL_VALUE&gt;</span>
</pre></div>
</div>
<p>SVC with ExternalName.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nn">---</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Service</span>
<span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">svc-externalname</span>
<span class="nt">spec</span><span class="p">:</span>
  <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">ExternalName</span>
  <span class="nt">externalName</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">foo.bar.com</span>
  <span class="nt">ports</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">port</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">50000</span>
      <span class="nt">protocol</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">TCP</span>
      <span class="nt">targetPort</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">50000</span>
  <span class="nt">selector</span><span class="p">:</span>
    <span class="nt">&lt;POD_LABEL_KEY&gt;</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;POD_LABEL_VALUE&gt;</span>
</pre></div>
</div>
<p>SVC with LoadBalancer.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nn">---</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Service</span>
<span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">svc-loadbalancer</span>
<span class="nt">spec</span><span class="p">:</span>
  <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">LoadBalancer</span>
  <span class="nt">externalTrafficPolicy</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Local</span>
  <span class="nt">loadBalancerSourceRanges</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">172.80.0.0/16</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">130.100.20.0/24</span>
  <span class="nt">ports</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">port</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">80</span>
      <span class="nt">protocol</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">TCP</span>
      <span class="nt">targetPort</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">8080</span>
  <span class="nt">selector</span><span class="p">:</span>
    <span class="nt">&lt;POD_LABEL_KEY&gt;</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;POD_LABEL_VALUE&gt;</span>
</pre></div>
</div>
<p>SVC with NodePort.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nn">---</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Service</span>
<span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">svc-nodeport</span>
<span class="nt">spec</span><span class="p">:</span>
  <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">NodePort</span>
  <span class="nt">ports</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">port</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">3000</span>
      <span class="nt">protocol</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">TCP</span>
      <span class="nt">targetPort</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">3000</span>
  <span class="nt">selector</span><span class="p">:</span>
    <span class="nt">&lt;POD_LABEL_KEY&gt;</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;POD_LABEL_VALUE&gt;</span>
</pre></div>
</div>
<p>[5]</p>
</div>
</div>
<div class="section" id="workloads">
<h3><a class="toc-backref" href="#id44">Workloads</a><a class="headerlink" href="#workloads" title="Permalink to this headline">¶</a></h3>
<p>Workload APIs manage running applications. [5]</p>
<ul class="simple">
<li><p>apps</p>
<ul>
<li><p>DaemonSet = Manages Kubernetes Pods that run on worker nodes. Objects created using this API are usually for logging or networking.</p></li>
<li><p>Deployment = Uses both the Pod and ReplicaSet API along with managing the life-cycle of an application. It is designed for stateless applications.</p></li>
<li><p>ReplicaSet = New API for manging replicas that has support for label selectors.</p></li>
<li><p>StatefulSet = Similar to a Deployment except it can handle persistent storage along with ordered scaling and rolling updates. Each new Pod created will have a new persistent volume claim created (if applicable). [1]</p></li>
</ul>
</li>
<li><p>batch</p>
<ul>
<li><p>CronJob = Schedule Pods to run at specific intervals of time.</p></li>
<li><p>Job = A one-time execution of a Pod.</p></li>
</ul>
</li>
<li><p>core</p>
<ul>
<li><p>Pod = The smallest API resource that can be used to create containers.</p></li>
<li><p>ReplicationController = Older API for managing replicas. [11]</p></li>
</ul>
</li>
</ul>
<p>Most applications should use the Deployment or the StatefulSet API due to the collection of features it provides.</p>
<div class="section" id="cronjob">
<h4><a class="toc-backref" href="#id45">CronJob</a><a class="headerlink" href="#cronjob" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p>API group / version (latest): batch/v1beta1</p></li>
<li><p>Shortname: cj</p></li>
<li><p>Namespaced: true</p></li>
</ul>
<hr class="docutils" />
<p><code class="docutils literal notranslate"><span class="pre">cj.spec:</span></code></p>
<ul class="simple">
<li><p>concurrencyPolicy (string) = What action to take if a CronJob object is running again overlapping with itself.</p>
<ul>
<li><p>Allow = Default. Allow the CronJob to start even if another CronJob is running.</p></li>
<li><p>Forbid = Skip this scheduled CronJob if the last one has not completed yet.</p></li>
<li><p>Replace = Stop the last CronJob and then start a new one.</p></li>
</ul>
</li>
<li><p>failedJobsHistoryLimit (integer) = Default is 1. The number of failed Jobs to keep logged.</p></li>
<li><p><strong>jobTemplate</strong> (<a class="reference external" href="#job">map of Job</a>) = The Job definition to run.</p></li>
<li><p><strong>schedule</strong> (string) = The <a class="reference external" href="https://crontab.guru/">cron</a> schedule/interval.</p></li>
<li><p>startingDeadlineSeconds (integer) = The amount of time to wait before marking the Job as failed if a CronJob misses it’s scheduled time.</p></li>
<li><p>successfulJobHistoryLimit (integer) = Default is 3. The number of successful Jobs to keep logged.</p></li>
<li><p>suspend (boolean) = Default is false. Only run the CronJob once. Do not run it again.</p></li>
</ul>
<hr class="docutils" />
<p><strong>Examples:</strong></p>
<p>CronJob example.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nn">---</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">CronJob</span>
<span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">batch/v1beta11</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">cj-calculate</span>
<span class="nt">spec</span><span class="p">:</span>
  <span class="nt">concurrencyPolicy</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Forbid</span>
  <span class="nt">failedJobsHistoryLimit</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">10</span>
  <span class="nt">jobTemplate</span><span class="p">:</span>
    <span class="nt">spec</span><span class="p">:</span>
      <span class="nt">backoffLimit</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">10</span>
      <span class="nt">completions</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">2</span>
      <span class="nt">parallelism</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">4</span>
      <span class="nt">template</span><span class="p">:</span>
        <span class="nt">spec</span><span class="p">:</span>
          <span class="nt">containers</span><span class="p">:</span>
            <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">calculus-equation</span>
              <span class="nt">image</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">clculus-equation:1.0.0</span>
              <span class="nt">args</span><span class="p">:</span>
                <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">scenario17</span>
                <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">--verbose</span>
          <span class="nt">restartPolicy</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">OnFailure</span>
      <span class="nt">ttlSecondsAfterFinished</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">3600</span>
  <span class="nt">schedule</span><span class="p">:</span> <span class="s">&quot;0</span><span class="nv"> </span><span class="s">*</span><span class="nv"> </span><span class="s">*</span><span class="nv"> </span><span class="s">*</span><span class="nv"> </span><span class="s">*&quot;</span>
</pre></div>
</div>
<p>[5]</p>
</div>
<div class="section" id="deployment">
<h4><a class="toc-backref" href="#id46">Deployment</a><a class="headerlink" href="#deployment" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p>API group / version (latest): apps/v1</p></li>
<li><p>Shortname: deploy</p></li>
<li><p>Namespaced: true</p></li>
</ul>
<hr class="docutils" />
<p><code class="docutils literal notranslate"><span class="pre">deploy.spec:</span></code></p>
<ul class="simple">
<li><p>minReadySeconds (integer) = Default is 0 seconds. The amount of seconds to wait for a Pod to put into the “ready” state.</p></li>
<li><p>paused (boolean) = If the deployment is paused.</p></li>
<li><p>progressDeadlineSeconds (integer) = The amount of seconds before a non-ready Deployment is considered to be in the “failed” state.</p></li>
<li><p>replicas (integer) = Default is 1. The number of Pods to create.</p></li>
<li><p>revisionHistoryLimit (integer) = Default is 10. The amount of ReplicaSets from a previous Deployment to keep for the purpose of a rollback.</p></li>
<li><p><strong>selector</strong> (<a class="reference external" href="#selector">map of Selector</a>) = The ReplicaSet will match Pods with these labels.</p></li>
<li><p>strategy (map) = The Deployment strategy when updating and rolling back a Deployment.</p></li>
<li><p><strong>template</strong> (<a class="reference external" href="#pod">map of a Pod manifest</a>) = The Pod definition to manage as a Deployment.</p>
<ul>
<li><p>metadata (map) = Specify any non-<code class="docutils literal notranslate"><span class="pre">name</span></code> value here.</p></li>
<li><p>spec (map)</p></li>
</ul>
</li>
</ul>
<hr class="docutils" />
<p><strong>Examples:</strong></p>
<p>Deployment example.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nn">---</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Deployment</span>
<span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">apps/v1</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">deploy-website</span>
<span class="nt">spec</span><span class="p">:</span>
  <span class="nt">replicas</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">5</span>
  <span class="nt">selector</span><span class="p">:</span>
    <span class="nt">matchLabels</span><span class="p">:</span>
      <span class="nt">foo</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">bar</span>
  <span class="nt">template</span><span class="p">:</span>
    <span class="nt">metadata</span><span class="p">:</span>
      <span class="nt">labels</span><span class="p">:</span>
        <span class="nt">foo</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">bar</span>
    <span class="nt">spec</span><span class="p">:</span>
      <span class="nt">containers</span><span class="p">:</span>
        <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">nginx</span>
          <span class="nt">image</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">nginx:1.7.0</span>
          <span class="nt">ports</span><span class="p">:</span>
            <span class="p p-Indicator">-</span> <span class="nt">containerPort</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">80</span>
        <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">php-fpm</span>
          <span class="nt">image</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">php-fpm:7.0</span>
          <span class="nt">ports</span><span class="p">:</span>
            <span class="p p-Indicator">-</span> <span class="nt">containerPort</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">8080</span>
</pre></div>
</div>
<p>[5]</p>
</div>
<div class="section" id="job">
<h4><a class="toc-backref" href="#id47">Job</a><a class="headerlink" href="#job" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p>API group / version (latest): batch/v1</p></li>
<li><p>Shortname: (None)</p></li>
<li><p>Namespaced: true</p></li>
</ul>
<hr class="docutils" />
<p><code class="docutils literal notranslate"><span class="pre">job.spec:</span></code></p>
<ul class="simple">
<li><p>activeDeadlineSeconds (integer) = The amount of time, in seconds, to wait for a Job to be finished before terminating the Pods.</p></li>
<li><p>backoffLimit (integer) = Default is 6. The amount of retries before marking a Job as failed.</p></li>
<li><p>completions (integer) = How many times the Job should complete before being marked as a success.</p></li>
<li><p>manualSelector (boolean) = Set to true to manually manage the <code class="docutils literal notranslate"><span class="pre">job.spec.selector</span></code>.</p></li>
<li><p>parallelism (integer) = The number of Pods that can run at the same time.</p></li>
<li><p>selector (<a class="reference external" href="#selector">map of Selector</a>) = By default, this is managed automatically. The number of Pods managed by the Job should match the labels provided.</p></li>
<li><p><strong>template</strong> (<a class="reference external" href="#pod">map of a Pod manifest</a>) = The Pod definition to manage as a Job. In that definition the default restartPolicy of “Always” is not allowed. Use “OnFailure” or “Never” instead.</p></li>
<li><p>ttlSecondsAfterFinished (integer) = The time to wait before deleting Pods from a Job.</p></li>
</ul>
<hr class="docutils" />
<p><strong>Examples:</strong></p>
<p>Job example.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nn">---</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Job</span>
<span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">batch/v1</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">job-calculate</span>
<span class="nt">spec</span><span class="p">:</span>
  <span class="nt">backoffLimit</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">10</span>
  <span class="nt">completions</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">2</span>
  <span class="nt">parallelism</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">4</span>
  <span class="nt">template</span><span class="p">:</span>
    <span class="nt">spec</span><span class="p">:</span>
      <span class="nt">containers</span><span class="p">:</span>
        <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">calculus-equation</span>
          <span class="nt">image</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">clculus-equation:1.0.0</span>
          <span class="nt">args</span><span class="p">:</span>
            <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">scenario17</span>
            <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">--verbose</span>
      <span class="nt">restartPolicy</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">OnFailure</span>
  <span class="nt">ttlSecondsAfterFinished</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">3600</span>
</pre></div>
</div>
<p>[5]</p>
</div>
<div class="section" id="pod">
<h4><a class="toc-backref" href="#id48">Pod</a><a class="headerlink" href="#pod" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p>API group / version (latest): v1</p></li>
<li><p>Shortname: po</p></li>
<li><p>Namespaced: true</p></li>
</ul>
<hr class="docutils" />
<p><code class="docutils literal notranslate"><span class="pre">po.spec:</span></code></p>
<ul class="simple">
<li><p>activeDeadlineSeconds (integer) = The startTime, in seconds, to wait before marking a Pod as failed.</p></li>
<li><p>affinity (map) = Define scheduling constraints.</p>
<ul>
<li><p>nodeAffinity (map) = Handle scheduling a Pod on specific Nodes.</p>
<ul>
<li><p>preferredDuringSchedulingIgnoredDuringExecution (map) = This Pod will prioritize being scheduled on Nodes matching the specified labels. If no Nodes can be used, this Pod will schedule itself on another available Node.</p>
<ul>
<li><p><strong>preference</strong> (map)</p>
<ul>
<li><p>matchExpressions (list of maps)</p>
<ul>
<li><p><strong>key</strong> (string)</p></li>
<li><p><strong>operator</strong> (string)</p>
<ul>
<li><p>In</p></li>
<li><p>NotIn</p></li>
<li><p>Exists</p></li>
<li><p>DoesNotExist</p></li>
<li><p>Gt (greater than)</p></li>
<li><p>Lt (less than)</p></li>
</ul>
</li>
<li><p>values (list of strings)</p></li>
</ul>
</li>
<li><p>matchFields (map of strings)</p>
<ul>
<li><p><strong>key</strong> (string)</p></li>
<li><p><strong>operator</strong> (string) = Refer to the <code class="docutils literal notranslate"><span class="pre">pod.spec.affinity.nodeAffinity.preferredDuringSchedulingIgnoredDuringExecution.preference.matchExpressions.operator</span></code> options above.</p></li>
<li><p>values (list of strings)</p></li>
</ul>
</li>
</ul>
</li>
<li><p><strong>weight</strong> (integer) = A number, 1 through 100, of how important it is to match this affinity.</p></li>
</ul>
</li>
<li><p>requiredDuringSchedulingIgnoredDuringExecution (map) = This Pod can only be scheduled on Nodes matching the specified labels.</p>
<ul>
<li><p>nodeSelectorTerms (list of maps) = Refer to the <code class="docutils literal notranslate"><span class="pre">pod.spec.affinity.nodeAffinity.preferredDuringSchedulingIgnoredDuringExecution.preference</span></code> options above.</p></li>
</ul>
</li>
</ul>
</li>
<li><p>podAffinity (map) = Schedule this Pod on a Node that has Pods matching specified labels.</p>
<ul>
<li><p>preferredDuringSchedulingIgnoredDuringExecution (list of maps)</p>
<ul>
<li><p>labelSelector (map)</p>
<ul>
<li><p>matchExpressions (list of maps)</p>
<ul>
<li><p><strong>key</strong> (string)</p></li>
<li><p><strong>operator</strong> (string)</p></li>
<li><p>values (list of strings)</p></li>
</ul>
</li>
<li><p>matchLabels (map of strings)</p></li>
</ul>
</li>
<li><p>namespaces (list of strings)</p></li>
<li><p><strong>topologyKey</strong> (string)</p></li>
</ul>
</li>
<li><p>requiredDuringSchedulingIgnoredDuringExecution (list of maps) = Refer to the <code class="docutils literal notranslate"><span class="pre">pod.spec.affinity.podAffinity.preferredDuringSchedulingIgnoredDuringExecution</span></code> options above.</p></li>
</ul>
</li>
<li><p>podAntiAffinity (map) = Do not schedule this Pod on a Node that has Pods matching specified labels. Refer to the <code class="docutils literal notranslate"><span class="pre">pod.spec.affinity.podAffinity</span></code> options above.</p></li>
</ul>
</li>
<li><p>automountServiceAccountToken (boolean) = If the service account token should be available via a mount. The default is true.</p></li>
<li><p><strong>containers</strong> (list of <a class="reference external" href="#containers">Containers map</a>) = The list of containers the Pod should create and manage.</p></li>
<li><p>dnsConfig (map) = DNS settings to add to the /etc/resolv.conf file.</p>
<ul>
<li><p>nameservers (list) = List of nameservers.</p></li>
<li><p>options (list of maps) = List of options.</p>
<ul>
<li><p>name (string)</p></li>
<li><p>value (string) = Optional. A value to bind to the option name.</p></li>
</ul>
</li>
<li><p>searches (list) = List of searches.</p></li>
</ul>
</li>
<li><p>dnsPolicy (string) = DNS resolution settings managed by Kubernetes.</p>
<ul>
<li><p>ClusterFirst = Default. Quries for domain names that do not include the Kubernetes cluster hostname will use the resolvers from the worker Node.</p></li>
<li><p>ClusterFirstWithHostNet = <code class="docutils literal notranslate"><span class="pre">Pod.spec.dnsPolicy.ClusterFirst</span></code> for Pods using the <code class="docutils literal notranslate"><span class="pre">Pod.spec.hostNetwork</span></code> option.</p></li>
<li><p>Default = Use the worker Node’s DNS resolution settings.</p></li>
<li><p>None = Only provide DNS settings via <code class="docutils literal notranslate"><span class="pre">Pod.spec.dnsConfig</span></code>.</p></li>
</ul>
</li>
<li><p>enableServiceLinks (boolean) = Provide Service information via environment variables.</p></li>
<li><p>ephemeralContainers (list of <a class="reference external" href="#containers">Containers map</a>) = Temporary containers for debugging.</p></li>
<li><p>hostAliases (map) = Additional /etc/hosts entries.</p>
<ul>
<li><p>hostnames (string)</p></li>
<li><p>ip (string)</p></li>
</ul>
</li>
<li><p>hostIPC (boolean) = Default is false. Use the IPC namespace.</p></li>
<li><p>hostPID (boolean) = Default is false. Use the PID namespace.</p></li>
<li><p>hostname (string) = Default is “&lt;HOSTNAME&gt;.&lt;SUBDOMAIN&gt;.&lt;POD_NAMESPACE.svc.&lt;CLUSTER_DOMAIN&gt;”. The cluster domain default is “cluster.local”.  A custom hostname for the Pod.</p></li>
<li><p>hostNetwork (boolean) = Default is false. Expose the <code class="docutils literal notranslate"><span class="pre">po.spec.containers.ports.containerPort</span></code> directly on the Node it is running on. Unlike a Service, this will create a 1:1 mapping of the port used by the containers to the exact same port number on the Node.</p></li>
<li><p>imagePullSecrets (list of maps)</p>
<ul>
<li><p>name (string) = The name of the Secret to use.</p></li>
</ul>
</li>
<li><p>initContainers (list of <a class="reference external" href="#containers">Containers map</a>) = A list of containers to create in order. If any of them fail then the entire Pod is marked as failed.</p></li>
<li><p>nodeName (string) = The name of the work Node to schedule the Pod on.</p></li>
<li><p>nodeSelector (map) = Key-value pairs on a worker Node that must be matched.</p></li>
<li><p>overhead (<a class="reference external" href="#system-resources">map of System Resources</a>) = The amount of resource overhead by having Kubernetes run the Pod. This is added ontop of amounts defined by <code class="docutils literal notranslate"><span class="pre">Pod.spec.containers.resources.limits</span></code> and <code class="docutils literal notranslate"><span class="pre">Pod.spec.containers.resources.requests</span></code>.</p></li>
<li><p>preemptionPolicy (string) Defaults to PreemptLowerPriority. Specify a Policy for low priority Pods.</p></li>
<li><p>priority (integer) = Specify a high or low priority value for the Pod.</p></li>
<li><p>priorityClassName (string) = Specify a PriorityClass object name to use for priority settings.</p></li>
<li><p>readinessGates (list of strings) = The readiness gates that need to pass for a Pod to be marked as ready.</p>
<ul>
<li><p>conditionType (string) = A valid value from the Pod’s condition list.</p></li>
</ul>
</li>
<li><p>restartPolicy (string) = The policy for when containers stop in a Pod.</p>
<ul>
<li><p>Always = Default.</p></li>
<li><p>Never</p></li>
<li><p>OnFailure</p></li>
</ul>
</li>
<li><p>runtimeClassName (string) = The container RuntimeClass settings to use.</p></li>
<li><p>schedulerName (string) = Use a different scheduler besides the default kube-scheduler.</p></li>
<li><p>securityContext (map) = Permissions to set for all containers in the Pod.</p>
<ul>
<li><p>fsGroup (integer) = A group to use volume mounts.</p></li>
<li><p>fsGroupChangePolicy (string) = The policy for changing the group permission.</p>
<ul>
<li><p>Always (default)</p></li>
<li><p>OnRootMismatch</p></li>
</ul>
</li>
<li><p>runAsGroup (integer)</p></li>
<li><p>runAsNonRoot (boolean)</p></li>
<li><p>runAsUser (integer)</p></li>
<li><p>seLinuxOptions (map)</p></li>
<li><p>supplementalGroups (list of integers) = Additional GID to assign to the process.</p></li>
<li><p>sysctls (list of maps) = sysctl parameters to set.</p>
<ul>
<li><p>name (string)</p></li>
<li><p>value (string)</p></li>
</ul>
</li>
<li><p>windowsOptions (map)</p></li>
</ul>
</li>
<li><p>serviceAccountName (string) = Run the Pod under a different ServiceAccount.</p></li>
<li><p>shareProcessNamespace (boolean) = Default is false. Use the same namespace for all containers in the Pod.</p></li>
<li><p>subdomain (string) = The subdomain to use in the full hostname of the Pod.</p></li>
<li><p>terminationGracePeriodSeconds (integer) = Default is 30. The amount of seconds before forcefully stopping a all containers in the Pod.</p></li>
<li><p>tolerations (list of maps) = Specify tolerations to Node taints.</p>
<ul>
<li><p>key (string) = Taint key.</p></li>
<li><p>value (string) = Taint value.</p></li>
<li><p>operator (string) = Default is Equal. Alternatively use Exists.</p></li>
<li><p>effect (string) = NoExecute, NoSchedule, or PreferNoSchedule.</p></li>
<li><p>tolerationSeconds (integer) = The amount of seconds to tolerate a taint.</p></li>
</ul>
</li>
<li><p>topologySpreadConstraints (map) = Define how to spread Pods across the Kubernetes cluster.</p>
<ul>
<li><p>labelSelector (map) = A key-value pair to find similar Pods. Schedule the Pod to run on that worker Node.</p></li>
<li><p>maxSkew (integer) = The number of Pods that can be unevenly distributed.</p></li>
<li><p>topologyKey (string) = A key label on a worker Node to look for.</p></li>
<li><p>whenUnsatisfiable (string) = Default is DoNotSchedule. Alternatively use ScheduleAnyway.</p></li>
</ul>
</li>
<li><p>volumes (list of maps) = Volumes to expose to all of the containers.</p>
<ul>
<li><p>name (string) = The name of the PVC</p></li>
<li><p>&lt;PV_STORAGE_PLUGIN_TYPE&gt; (map) = Settings for the PVC.</p></li>
</ul>
</li>
</ul>
<p>[5]</p>
<hr class="docutils" />
<p><strong>Examples:</strong></p>
<p>Pod with two containers.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nn">---</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Pod</span>
<span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">two-apps</span>
<span class="nt">spec</span><span class="p">:</span>
  <span class="nt">containers</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">nginx</span>
      <span class="nt">image</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">nginx</span>
    <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">php</span>
      <span class="nt">image</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">php-fpm</span>
</pre></div>
</div>
<p>Pod thate overrides the ENTRYPOINT for a container.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nn">---</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Pod</span>
<span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">phun</span>
<span class="nt">spec</span><span class="p">:</span>
  <span class="nt">containers</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">php</span>
      <span class="nt">image</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">php-fpm</span>
      <span class="nt">args</span><span class="p">:</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">php-fpm</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">--nodaemonize</span>
</pre></div>
</div>
<p>Pod with persistent storage (without a PVC).</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nn">---</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Pod</span>
<span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">db-cb</span>
<span class="nt">spec</span><span class="p">:</span>
  <span class="nt">containers</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">couchbase</span>
      <span class="nt">image</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">couchbase-server:community-6.0.0</span>
      <span class="nt">volumeMounts</span><span class="p">:</span>
        <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">local-volume</span>
          <span class="nt">mountPath</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/opt/couchbase/var</span>
    <span class="nt">volumes</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">local-volume</span>
        <span class="nt">hostPath</span><span class="p">:</span>
          <span class="nt">path</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/var/lib/couchbase</span>
</pre></div>
</div>
<p>Pod with persistent storage (with a PVC).</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nn">---</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Pod</span>
<span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">db-mysql</span>
<span class="nt">spec</span><span class="p">:</span>
  <span class="nt">containers</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">mariadb</span>
      <span class="nt">image</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">mariadb:10.5</span>
      <span class="nt">volumeMounts</span><span class="p">:</span>
        <span class="p p-Indicator">-</span> <span class="nt">mountPath</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/var/lib/mysql</span>
          <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">mariadb-volume</span>
  <span class="nt">volumes</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">mariadb-volume</span>
      <span class="nt">persistentVolumeClaim</span><span class="p">:</span>
        <span class="nt">claimName</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;PVC_NAME&gt;</span>
</pre></div>
</div>
<p>Pod with environment variables from different sources.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nn">---</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Pod</span>
<span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">all-the-sources</span>
<span class="nt">spec</span><span class="p">:</span>
  <span class="nt">containers</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">nginx</span>
      <span class="nt">image</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">nginx:1.9.0</span>
      <span class="nt">env</span><span class="p">:</span>
        <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">foo</span>
          <span class="nt">value</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">bar</span>
        <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;KEY&gt;</span>
          <span class="nt">valueFrom</span><span class="p">:</span>
            <span class="nt">configMapKeyRef</span><span class="p">:</span>
              <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;CONFIGMAP_NAME&gt;</span>
              <span class="nt">key</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;CONFIGMAP_KEY&gt;</span>
      <span class="nt">envFrom</span><span class="p">:</span>
        <span class="p p-Indicator">-</span> <span class="nt">configMapRef</span><span class="p">:</span>
            <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;CONFIGMAP_NAME&gt;</span>
        <span class="p p-Indicator">-</span> <span class="nt">secretRef</span><span class="p">:</span>
            <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;SECRET_NAME&gt;</span>
</pre></div>
</div>
<p>Pod with Secret key-values provided as files on an ephemeral volume.</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$ kubectl create secret generic --from-literal<span class="o">=</span><span class="nv">foo</span><span class="o">=</span>bar <span class="m">007</span>
</pre></div>
</div>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nn">---</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Pod</span>
<span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">webapp</span>
<span class="nt">spec</span><span class="p">:</span>
  <span class="nt">containers</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">nginx</span>
      <span class="nt">image</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">nginx</span>
      <span class="nt">volumeMounts</span><span class="p">:</span>
        <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">secret-volume</span>
          <span class="nt">mountPath</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/opt/nginx-config</span>
          <span class="nt">readOnly</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
  <span class="nt">volumes</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">secret-volume</span>
      <span class="nt">secret</span><span class="p">:</span>
        <span class="nt">secretName</span><span class="p">:</span> <span class="s">&quot;007&quot;</span>
</pre></div>
</div>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$ kubectl <span class="nb">exec</span> webapp -- ls -1 /opt/nginx-config/
foo
$ kubectl <span class="nb">exec</span> webapp -- cat /opt/nginx-config/foo
bar
</pre></div>
</div>
<p>Pod with common security settings.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nn">---</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Pod</span>
<span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">http-secure</span>
<span class="nt">spec</span><span class="p">:</span>
  <span class="nt">containers</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">nginx</span>
      <span class="nt">image</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">nginx:1.9.0</span>
      <span class="nt">securityContext</span><span class="p">:</span>
        <span class="nt">runAsUser</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1000</span>
        <span class="nt">capabilities</span><span class="p">:</span>
          <span class="nt">add</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="s">&quot;NET_ADMIN&quot;</span><span class="p p-Indicator">,</span> <span class="s">&quot;SYS_TIME&quot;</span><span class="p p-Indicator">]</span>
        <span class="nt">privileged</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">false</span>
</pre></div>
</div>
<p>Pod with quotas set (without a ResourceQuota).</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nn">---</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Pod</span>
<span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">miniapp</span>
<span class="nt">spec</span><span class="p">:</span>
  <span class="nt">containers</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">nginx</span>
      <span class="nt">image</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">nginx:1.9.0</span>
  <span class=" -Error"> </span><span class="nt">resources</span><span class="p">:</span>
     <span class="nt">requests</span><span class="p">:</span>
       <span class="nt">cpu</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
       <span class="nt">memory</span><span class="p">:</span> <span class="s">&quot;256Mi&quot;</span>
     <span class="nt">limits</span><span class="p">:</span>
       <span class="nt">cpu</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">2</span>
       <span class="nt">memory</span><span class="p">:</span> <span class="s">&quot;512Mi&quot;</span>
</pre></div>
</div>
<p>Pod running on a specific Node based on the Node’s hostname.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nn">---</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Pod</span>
<span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">simple-app</span>
<span class="nt">spec</span><span class="p">:</span>
  <span class="nt">containers</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">nginx</span>
      <span class="nt">image</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">nginx:1.9.0</span>
  <span class="nt">nodeSelector</span><span class="p">:</span>
    <span class="nt">kubernetes.io/hostname</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">worker04</span>
</pre></div>
</div>
<p>Pod with ports exposed on the Node it is running on.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nn">---</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Pod</span>
<span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">dns-app</span>
<span class="nt">spec</span><span class="p">:</span>
  <span class="nt">hostNetwork</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">True</span>
  <span class="nt">containers</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">coredns</span>
      <span class="nt">image</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">coredns</span>
      <span class="nt">ports</span><span class="p">:</span>
        <span class="p p-Indicator">-</span> <span class="nt">containerPort</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">53</span>
          <span class="nt">protocol</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">TCP</span>
          <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">coredns-tcp</span>
        <span class="p p-Indicator">-</span> <span class="nt">containerPort</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">53</span>
          <span class="nt">protocol</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">UDP</span>
          <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">coredns-udp</span>
</pre></div>
</div>
<p>Pod with a toleration to the Control Pane Node taint.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nn">---</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Pod</span>
<span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">pod-with-control-plane-toleration</span>
<span class="nt">spec</span><span class="p">:</span>
  <span class="nt">containers</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">busybox</span>
      <span class="nt">image</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">busybox</span>
  <span class="nt">tolerations</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">effect</span><span class="p">:</span> <span class="s">&quot;NoSchedule&quot;&quot;</span>
      <span class="s">key:</span><span class="nv"> </span><span class="s">&quot;</span><span class="l l-Scalar l-Scalar-Plain">node-role.kubernetes.io/control-plane&quot;</span>
      <span class="nt">operator</span><span class="p">:</span> <span class="s">&quot;Exists&quot;</span>
    <span class="p p-Indicator">-</span> <span class="nt">effect</span><span class="p">:</span> <span class="s">&quot;NoSchedule&quot;&quot;</span>
      <span class="s">key:</span><span class="nv"> </span><span class="s">&quot;</span><span class="l l-Scalar l-Scalar-Plain">node-role.kubernetes.io/master&quot;</span>
      <span class="nt">operator</span><span class="p">:</span> <span class="s">&quot;Exists&quot;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="third-party">
<h3><a class="toc-backref" href="#id49">Third-Party</a><a class="headerlink" href="#third-party" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id13">
<h4><a class="toc-backref" href="#id50">Cluster</a><a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p>API group / version (latest): kind.x-k8s.io/v1alpha4</p></li>
<li><p>Shortname: (None)</p></li>
<li><p>Namespaced: false</p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">Cluster</span></code> is an API desgined by the <code class="docutils literal notranslate"><span class="pre">kind</span></code> special interest group. It is designed to help configure development Kubernetes clusters.</p>
<hr class="docutils" />
<p><code class="docutils literal notranslate"><span class="pre">Cluster:</span></code></p>
<ul class="simple">
<li><p>featureGates (map)</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;FEATURE&gt;</span></code> (boolean) = Enable or disable experimental Kubernetes features. The full list of features gates is provided <a class="reference external" href="https://kubernetes.io/docs/reference/command-line-tools-reference/feature-gates/">here</a>.</p></li>
</ul>
</li>
<li><p>runtimeConfig (map)</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;API_GROUP&gt;/&lt;API_VERSION&gt;</span></code> (boolean) = Enable or disable API groups. Validation options can be found <a class="reference external" href="https://kubernetes.io/docs/reference/command-line-tools-reference/kube-apiserver/">here</a> and includes: <code class="docutils literal notranslate"><span class="pre">api/[all|ga|beta|alpha]:</span> <span class="pre">[true|false]</span></code>.</p></li>
</ul>
</li>
<li><p>networking (map)</p>
<ul>
<li><p>apiServerAddress (string) = <code class="docutils literal notranslate"><span class="pre">127.0.0.1</span></code> by default. The IP address to listen to for internal Kubernetes Nodes to communicate with each other.</p></li>
<li><p>apiServerPort (string) = <code class="docutils literal notranslate"><span class="pre">6443</span></code> by default. The port to listen on for internal Kubernetes Nodes to communicate with each other.</p></li>
<li><p>disableDefaultCNI (boolean) = By default, the custom “kindnetd” CNI is installed. Disable this to allow installing a different CNI plugin after the new cluster is created.</p></li>
<li><p>ipFamily (string) = <code class="docutils literal notranslate"><span class="pre">ipv4</span></code> (default) or <code class="docutils literal notranslate"><span class="pre">ipv6</span></code>. Dual-stack IP addressing is not supported in the Cluset API yet.</p></li>
<li><p>kubeProxyMode (string) = <code class="docutils literal notranslate"><span class="pre">iptables</span></code> (default) or <code class="docutils literal notranslate"><span class="pre">ipvs</span></code>.</p></li>
<li><p>podSubnet (string) = <code class="docutils literal notranslate"><span class="pre">10.244.0.0/16</span></code> by default. The IP range to use for Pod networking (internal access).</p></li>
<li><p>serviceSubnet (string) = <code class="docutils literal notranslate"><span class="pre">10.96.0.0/12</span></code> by default. The public IP range to use for Service networking (external access).</p></li>
</ul>
</li>
<li><p>nodes (list of maps)</p>
<ul>
<li><p>role (string) = The Nodes that should be deployed. Use <code class="docutils literal notranslate"><span class="pre">control-plane</span></code> and <code class="docutils literal notranslate"><span class="pre">worker</span></code>. List the same type of Node more than once to deploy more Nodes.</p></li>
<li><p>extraMounts (list of maps)</p>
<ul>
<li><p>containerPath (string) = The mount point for <code class="docutils literal notranslate"><span class="pre">Cluster.nodes.role.extraMounts.hostPath</span></code>.</p></li>
<li><p>hostPath (string) = A directory on the host to share with the container.</p></li>
</ul>
</li>
<li><p>extraPortMappings (list of maps)</p>
<ul>
<li><p>containerPort (integer) = The port inside the containers to expose.</p></li>
<li><p>hostPort (integer) = The port on the host to use to connect to the <code class="docutils literal notranslate"><span class="pre">Cluster.nodes.extraPortMappings.containerPort</span></code>.</p></li>
<li><p>listenAddress (string) = Default is <code class="docutils literal notranslate"><span class="pre">0.0.0.0</span></code>.</p></li>
<li><p>protocol (string) = <code class="docutils literal notranslate"><span class="pre">SCTP</span></code>, <code class="docutils literal notranslate"><span class="pre">TCP</span></code> (default), or <code class="docutils literal notranslate"><span class="pre">UDP</span></code>.</p></li>
</ul>
</li>
<li><p>kubeadmConfigPatches (list of strings) = Provide additional <a class="reference external" href="https://kubernetes.io/docs/reference/setup-tools/kubeadm/kubeadm-init/#config-file">configurations for kubeadm</a>.</p></li>
</ul>
</li>
</ul>
<hr class="docutils" />
<p><strong>Examples:</strong></p>
<p>x3 Control Plane Nodes and x2 Worker Nodes.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nn">---</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Cluster</span>
<span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">kind.x-k8s.io/v1alpha4</span>
<span class="nt">nodes</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">role</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">control-plane</span>
  <span class="p p-Indicator">-</span> <span class="nt">role</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">control-plane</span>
  <span class="p p-Indicator">-</span> <span class="nt">role</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">control-plane</span>
  <span class="p p-Indicator">-</span> <span class="nt">role</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">worker</span>
  <span class="p p-Indicator">-</span> <span class="nt">role</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">worker</span>
</pre></div>
</div>
<p>[30]</p>
</div>
<div class="section" id="clusterissuer">
<h4><a class="toc-backref" href="#id51">ClusterIssuer</a><a class="headerlink" href="#clusterissuer" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p>API group / version (latest): cert-manager.io/v1</p></li>
<li><p>Shortname: (None)</p></li>
<li><p>Namespaced: false</p></li>
</ul>
<p>The ClusterIssuer API is used to create TLS certificates.</p>
<hr class="docutils" />
<p><strong>Examples:</strong></p>
<p>ClusterIssuer that creates basic self-signed certificates. [34]</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nn">---</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">ClusterIssuer</span>
<span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">cert-manager.io/v1</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">clusterissuer-self-signed</span>
<span class="nt">spec</span><span class="p">:</span>
  <span class="nt">selfSigned</span><span class="p">:</span> <span class="p p-Indicator">{}</span>
</pre></div>
</div>
<p>ClusterIssuer with a certificate authority to sign certificates with. [35]</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nn">---</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Secret</span>
<span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">secret-tls-ca</span>
  <span class="c1"># This secret has to exist in the same namespace where</span>
  <span class="c1"># cert-manager is installed in.</span>
  <span class="nt">namespace</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;CERT-MANAGER_NAMESPACE&gt;</span>
<span class="nt">data</span><span class="p">:</span>
  <span class="nt">tls.crt</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;BASE64_ENCODED_CA_CERTIFICATE&gt;</span>
  <span class="c1"># The private key cannot be password encrypted.</span>
  <span class="nt">tls.key</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;BASE64_ENCODED_CA_PRIVAYE_KEY&gt;</span>
<span class="nn">---</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">ClusterIssuer</span>
<span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">cert-manager.io/v1</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">clusterissuer-certificate-authority</span>
<span class="nt">spec</span><span class="p">:</span>
  <span class="nt">ca</span><span class="p">:</span>
    <span class="nt">secretName</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">secret-tls-ca</span>
</pre></div>
</div>
<p>Create a certificate using a ClusterIssuer with a certificate authority. [37]</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nn">---</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Certificate</span>
<span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">cert-manager.io/v1</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">certificate-&lt;FQDN&gt;</span>
  <span class="nt">namespace</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">default</span>
<span class="nt">spec</span><span class="p">:</span>
  <span class="c1"># The Secret object will be created with the</span>
  <span class="c1"># certificate file, key, and CA certificate.</span>
  <span class="nt">secretName</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">secret-tls-&lt;FQDN&gt;</span>
  <span class="nt">issuerRef</span><span class="p">:</span>
    <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">clusterissuer-certificate-authority</span>
    <span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">ClusterIssuer</span>
  <span class="nt">commonName</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;FQDN&gt;</span>
  <span class="nt">dnsNames</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">&lt;FQDN&gt;</span>
</pre></div>
</div>
<p>ClusterIssuer that uses Let’s Encrypt (ACME) to create free signed certificates. Use the staging ClusterIssuer for testing as that API endpoint is not ratelimited. Use the production ClusterIssuer once it is verified to be working. If switching from staging to production, delete the existing certificate Secret(s) so that cert-manager will automatically generate new certificates. [36]</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nn">---</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">ClusterIssuer</span>
<span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">cert-manager.io/v1</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">clusterissuer-letsencrypt-staging</span>
<span class="nt">spec</span><span class="p">:</span>
  <span class="nt">acme</span><span class="p">:</span>
    <span class="nt">server</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">https://acme-staging-v02.api.letsencrypt.org/directory</span>
    <span class="nt">email</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;EMAIL_ADDRESS&gt;</span>
    <span class="nt">privateKeySecretRef</span><span class="p">:</span>
      <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">letsencrypt-staging</span>
    <span class="nt">solvers</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">http01</span><span class="p">:</span>
        <span class="nt">ingress</span><span class="p">:</span>
          <span class="nt">class</span><span class="p">:</span>  <span class="l l-Scalar l-Scalar-Plain">&lt;INGRESS_CLASS&gt;</span>
<span class="nn">---</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">ClusterIssuer</span>
<span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">cert-manager.io/v1</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">clusterissuer-letsencrypt-production</span>
<span class="nt">spec</span><span class="p">:</span>
  <span class="nt">acme</span><span class="p">:</span>
    <span class="nt">server</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">https://acme-v02.api.letsencrypt.org/directory</span>
    <span class="nt">email</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;EMAIL_ADDRESS&gt;</span>
    <span class="nt">privateKeySecretRef</span><span class="p">:</span>
      <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">letsencrypt-staging</span>
    <span class="nt">solvers</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">http01</span><span class="p">:</span>
        <span class="nt">ingress</span><span class="p">:</span>
          <span class="nt">class</span><span class="p">:</span>  <span class="l l-Scalar l-Scalar-Plain">&lt;INGRESS_CLASS&gt;</span>
</pre></div>
</div>
<p>Use the Let’s Encrypt ClusterIssuer in an Ingress object to automatically create a certificate and save it to a new Secret object. [36]</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nn">---</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Ingress</span>
<span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">networking.k8s.io/v1</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">ing-with-letsencrypt</span>
  <span class="nt">annotations</span><span class="p">:</span>
    <span class="nt">cert-manager.io/clusterissuer</span><span class="p">:</span> <span class="s">&quot;clusterissuer-letsencrypt-staging&quot;</span>
<span class="nt">spec</span><span class="p">:</span>
  <span class="nt">tls</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">hosts</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">&lt;FQDN&gt;</span>
    <span class="c1"># Set this to any name. cert-manager will automatically create this</span>
    <span class="c1"># because of the annotation that was set.</span>
    <span class="nt">secretName</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;SECRET_NAME&gt;</span>
  <span class="nt">rules</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">host</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;FQDN&gt;</span>
    <span class="nt">http</span><span class="p">:</span>
      <span class="nt">paths</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="nt">path</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/</span>
        <span class="nt">pathType</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Exact</span>
        <span class="nt">backend</span><span class="p">:</span>
          <span class="nt">service</span><span class="p">:</span>
            <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;SERVICE_NAME&gt;</span>
            <span class="nt">port</span><span class="p">:</span>
              <span class="nt">number</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">80</span>
</pre></div>
</div>
</div>
<div class="section" id="issuer">
<h4><a class="toc-backref" href="#id52">Issuer</a><a class="headerlink" href="#issuer" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p>API group / version (latest): cert-manager.io/v1</p></li>
<li><p>Shortname: (None)</p></li>
<li><p>Namespaced: true</p></li>
</ul>
<p>View the <a class="reference external" href="#clusterissuer">ClusterIssuer API</a> documentation. The spec is exactly the same except the ClusterIssuer does not support being namespaced.</p>
</div>
</div>
<div class="section" id="openshift">
<h3><a class="toc-backref" href="#id53">OpenShift</a><a class="headerlink" href="#openshift" title="Permalink to this headline">¶</a></h3>
<p>These APIs are only available on OpenShift. [28]</p>
<ul class="simple">
<li><p>Alertmanager monitoring.coreos.com/v1</p></li>
<li><p>APIServer config.openshift.io/v1</p></li>
<li><p>AppliedClusterResourceQuota quota.openshift.io/v1</p></li>
<li><p>Authentication config.openshift.io/v1</p></li>
<li><p>Authentication operator.openshift.io/v1</p></li>
<li><p>BrokerTemplateInstance template.openshift.io/v1</p></li>
<li><p>Build build.openshift.io/v1</p></li>
<li><p>Build config.openshift.io/v1</p></li>
<li><p>BuildConfig build.openshift.io/v1</p></li>
<li><p>CatalogSource operators.coreos.com/v1alpha1</p></li>
<li><p>ClusterAutoscaler autoscaling.openshift.io/v1</p></li>
<li><p>ClusterOperator config.openshift.io/v1</p></li>
<li><p>ClusterResourceQuota quota.openshift.io/v1</p></li>
<li><p>ClusterRole authorization.openshift.io/v1</p></li>
<li><p>ClusterRoleBinding authorization.openshift.io/v1</p></li>
<li><p>ClusterServiceVersion operators.coreos.com/v1alpha1</p></li>
<li><p>ClusterVersion config.openshift.io/v1</p></li>
<li><p>Config imageregistry.operator.openshift.io/v1</p></li>
<li><p>Config operator.openshift.io/v1</p></li>
<li><p>Config samples.operator.openshift.io/v1</p></li>
<li><p>Console config.openshift.io/v1</p></li>
<li><p>Console operator.openshift.io/v1</p></li>
<li><p>ConsoleCLIDownload console.openshift.io/v1</p></li>
<li><p>ConsoleExternalLogLink console.openshift.io/v1</p></li>
<li><p>ConsoleLink console.openshift.io/v1</p></li>
<li><p>ConsoleNotification console.openshift.io/v1</p></li>
<li><p>ConsoleYAMLSample console.openshift.io/v1</p></li>
<li><p>ContainerRuntimeConfig machineconfiguration.openshift.io/v1</p></li>
<li><p>ControllerConfig machineconfiguration.openshift.io/v1</p></li>
<li><p>CredentialsRequest cloudcredential.openshift.io/v1</p></li>
<li><p>CSISnapshotController operator.openshift.io/v1</p></li>
<li><p>DeploymentConfig apps.openshift.io/v1</p></li>
<li><p>DNS config.openshift.io/v1</p></li>
<li><p>DNS operator.openshift.io/v1</p></li>
<li><p>DNSRecord ingress.operator.openshift.io/v1</p></li>
<li><p>EgressNetworkPolicy network.openshift.io/v1</p></li>
<li><p>Etcd operator.openshift.io/v1</p></li>
<li><p>FeatureGate config.openshift.io/v1</p></li>
<li><p>Group user.openshift.io/v1</p></li>
<li><p>HostSubnet network.openshift.io/v1</p></li>
<li><p>Identity user.openshift.io/v1</p></li>
<li><p>Image config.openshift.io/v1</p></li>
<li><p>Image image.openshift.io/v1</p></li>
<li><p>ImageContentSourcePolicy operator.openshift.io/v1alpha1</p></li>
<li><p>ImagePruner imageregistry.operator.openshift.io/v1</p></li>
<li><p>ImageSignature image.openshift.io/v1</p></li>
<li><p>ImageStream image.openshift.io/v1</p></li>
<li><p>ImageStreamImage image.openshift.io/v1</p></li>
<li><p>ImageStreamImport image.openshift.io/v1</p></li>
<li><p>ImageStreamMapping image.openshift.io/v1</p></li>
<li><p>ImageStreamTag image.openshift.io/v1</p></li>
<li><p>ImageTag image.openshift.io/v1</p></li>
<li><p>Infrastructure config.openshift.io/v1</p></li>
<li><p>Ingress config.openshift.io/v1</p></li>
<li><p>IngressController operator.openshift.io/v1</p></li>
<li><p>InstallPlan operators.coreos.com/v1alpha1</p></li>
<li><p>KubeAPIServer operator.openshift.io/v1</p></li>
<li><p>KubeControllerManager operator.openshift.io/v1</p></li>
<li><p>KubeletConfig machineconfiguration.openshift.io/v1</p></li>
<li><p>KubeScheduler operator.openshift.io/v1</p></li>
<li><p>KubeStorageVersionMigrator operator.openshift.io/v1</p></li>
<li><p>LocalResourceAccessReview authorization.openshift.io/v1</p></li>
<li><p>LocalSubjectAccessReview authorization.openshift.io/v1</p></li>
<li><p>Machine machine.openshift.io/v1beta1</p></li>
<li><p>MachineAutoscaler autoscaling.openshift.io/v1beta1</p></li>
<li><p>MachineConfig machineconfiguration.openshift.io/v1</p></li>
<li><p>MachineConfigPool machineconfiguration.openshift.io/v1</p></li>
<li><p>MachineHealthCheck machine.openshift.io/v1beta1</p></li>
<li><p>MachineSet machine.openshift.io/v1beta1</p></li>
<li><p>NetNamespace network.openshift.io/v1</p></li>
<li><p>Network config.openshift.io/v1</p></li>
<li><p>Network operator.openshift.io/v1</p></li>
<li><p>OAuth config.openshift.io/v1</p></li>
<li><p>OAuthAccessToken oauth.openshift.io/v1</p></li>
<li><p>OAuthAuthorizeToken oauth.openshift.io/v1</p></li>
<li><p>OAuthClient oauth.openshift.io/v1</p></li>
<li><p>OAuthClientAuthorization oauth.openshift.io/v1</p></li>
<li><p>OpenShiftAPIServer operator.openshift.io/v1</p></li>
<li><p>OpenShiftControllerManager operator.openshift.io/v1</p></li>
<li><p>OperatorGroup operators.coreos.com/v1</p></li>
<li><p>OperatorHub config.openshift.io/v1</p></li>
<li><p>OperatorSource operators.coreos.com/v1</p></li>
<li><p>PackageManifest packages.operators.coreos.com/v1</p></li>
<li><p>PodMonitor monitoring.coreos.com/v1</p></li>
<li><p>PodSecurityPolicyReview security.openshift.io/v1</p></li>
<li><p>PodSecurityPolicySelfSubjectReview security.openshift.io/v1</p></li>
<li><p>PodSecurityPolicySubjectReview security.openshift.io/v1</p></li>
<li><p>Profile tuned.openshift.io/v1</p></li>
<li><p>Project config.openshift.io/v1</p></li>
<li><p>Project project.openshift.io/v1</p></li>
<li><p>ProjectRequest project.openshift.io/v1</p></li>
<li><p>Prometheus monitoring.coreos.com/v1</p></li>
<li><p>PrometheusRule monitoring.coreos.com/v1</p></li>
<li><p>Proxy config.openshift.io/v1</p></li>
<li><p>RangeAllocation security.openshift.io/v1</p></li>
<li><p>ResourceAccessReview authorization.openshift.io/v1</p></li>
<li><p>Role authorization.openshift.io/v1</p></li>
<li><p>RoleBinding authorization.openshift.io/v1</p></li>
<li><p>RoleBindingRestriction authorization.openshift.io/v1</p></li>
<li><p>Route route.openshift.io/v1</p></li>
<li><p>Scheduler config.openshift.io/v1</p></li>
<li><p>SecurityContextConstraints security.openshift.io/v1</p></li>
<li><p>SelfSubjectRulesReview authorization.openshift.io/v1</p></li>
<li><p>ServiceCA operator.openshift.io/v1</p></li>
<li><p>ServiceMonitor monitoring.coreos.com/v1</p></li>
<li><p>SubjectAccessReview authorization.openshift.io/v1</p></li>
<li><p>SubjectRulesReview authorization.openshift.io/v1</p></li>
<li><p>Subscription operators.coreos.com/v1alpha1</p></li>
<li><p>Template template.openshift.io/v1</p></li>
<li><p>TemplateInstance template.openshift.io/v1</p></li>
<li><p>ThanosRuler monitoring.coreos.com/v1</p></li>
<li><p>Tuned tuned.openshift.io/v1</p></li>
<li><p>User user.openshift.io/v1</p></li>
<li><p>UserIdentityMapping user.openshift.io/v1</p></li>
</ul>
<div class="section" id="template">
<h4><a class="toc-backref" href="#id54">Template</a><a class="headerlink" href="#template" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p>API group / version (latest): v1</p></li>
<li><p>Shortname: (None)</p></li>
<li><p>Namespaced: true</p></li>
</ul>
<p>A Template provides a way to create more than one object using a single manifest. It also supports being passed parameters to customize the Template. This API is similar in scope to Helm in the sense that it is a package manager for OpenShift.</p>
<hr class="docutils" />
<p><code class="docutils literal notranslate"><span class="pre">template:</span></code></p>
<ul class="simple">
<li><p>metadata</p>
<ul>
<li><p>annotations (map of strings)</p>
<ul>
<li><p>openshift.io/display-name (string) = The human friendly name of the Template to display.</p></li>
<li><p>description (string)  = A short description of the Template.</p></li>
<li><p>openshift.io/long-description = A long description of the Template.</p></li>
<li><p>tags (string) = A comma-separated list of descriptive tags for what the Template provides.</p></li>
<li><p>iconClass (string) = The name of the icon to use for the Template.</p></li>
<li><p>openshift.io/provider-display-name (string) = The name of the developer or company that created the Template.</p></li>
<li><p>openshift.io/documentation-url (string) = The documentation URL.</p></li>
<li><p>openshift.io/support-url (string) = The support URL.</p></li>
<li><p>message (string) = The message to display after the Template has been created.</p></li>
</ul>
</li>
</ul>
</li>
<li><p>labels (map of strings) = Key-value pair labels to apply to all objects created from this Template.</p></li>
<li><p>objects (list of maps) = A list of manifests to create. Variables can be set in here.</p></li>
<li><p>parameters (list of maps) = A list of variables that can be set by end-users and replaced in the <code class="docutils literal notranslate"><span class="pre">template.objects</span></code> section.</p></li>
</ul>
<p>[29]</p>
</div>
</div>
<div class="section" id="common-reoccuring-fields">
<h3><a class="toc-backref" href="#id55">(Common Reoccuring Fields)</a><a class="headerlink" href="#common-reoccuring-fields" title="Permalink to this headline">¶</a></h3>
<div class="section" id="containers">
<h4><a class="toc-backref" href="#id56">Containers</a><a class="headerlink" href="#containers" title="Permalink to this headline">¶</a></h4>
<p><code class="docutils literal notranslate"><span class="pre">Pod.spec.{containers,ephemeralContainers,initContainers}</span></code> (list of maps)</p>
<ul class="simple">
<li><p>args (list of strings) = CMD.</p></li>
<li><p>command (list of strings) = ENTRYPOINT.</p></li>
<li><p>env (list of maps) = Environment variables to load in the container.</p></li>
<li><p>envFrom (list of maps) = Environment variables (from another object) to load in the container.</p>
<ul>
<li><p>configMapRef (map)</p>
<ul>
<li><p>name (string) = Name of the ConfigMap object to load.</p></li>
</ul>
</li>
<li><p>prefix (string) = A prefix to append to each key from the ConfigMap.</p></li>
</ul>
</li>
<li><p><strong>image</strong> (string)</p></li>
<li><p>imagePullPolicy (string)</p>
<ul>
<li><p>Always = Default for “latest” tag.</p></li>
<li><p>IfNotPresent = Default for all other tags.</p></li>
<li><p>Never</p></li>
</ul>
</li>
<li><p>lifecycle (map)</p>
<ul>
<li><p>postStart (map) = Action to take after a container starts.</p>
<ul>
<li><p>exec (map)</p>
<ul>
<li><p>command (list of strings) = A command to run.</p></li>
</ul>
</li>
<li><p>httpGet (map) = A HTTP URL to GET.</p>
<ul>
<li><p>httpHeaders (map)</p></li>
<li><p>path (string)</p></li>
<li><p>port (string)</p></li>
<li><p>scheme (string) = Defaults to HTTP. Optionally set to HTTPS.</p></li>
</ul>
</li>
<li><p>tcpSocket (map) = A TCP socket to connect to.</p>
<ul>
<li><p>port (string)</p></li>
</ul>
</li>
</ul>
</li>
<li><p>preStop (map) = Action to take before a container stops.</p>
<ul>
<li><p>exec (map)</p></li>
<li><p>httpGet (map)</p></li>
<li><p>tcpSocket (map)</p></li>
</ul>
</li>
</ul>
</li>
<li><p>livenessProbe (<a class="reference external" href="#probe">map of Probe</a>) = Probe to see if the application in the container is running properly.</p></li>
<li><p><strong>name</strong> (string) = Name of the container.</p></li>
<li><p>ports (map) = Manage ports for the container.</p>
<ul>
<li><p>containerPort (integer) = The port in the container to open.</p></li>
<li><p>hostIP (string) = The IP address to bind the <code class="docutils literal notranslate"><span class="pre">Pod.spec.containers.hostPort</span></code> to.</p></li>
<li><p>hostPort (integer) = The port on the Work Node to open.</p></li>
<li><p>name (string) = Optionally provide a name. This can be used by a Service object.</p></li>
<li><p>protocol (string) = Default is TCP. Set to TCP, UDP, or SCTP.</p></li>
</ul>
</li>
<li><p>readinessProbe (<a class="reference external" href="#probe">map of Probe</a>) = Probe to see if the application is ready to be exposed by a network Service..</p></li>
<li><p>resources (map)</p>
<ul>
<li><p>limits (<a class="reference external" href="#system-resources">map of System Resources</a>) = Hard resource limits.</p></li>
<li><p>requests (<a class="reference external" href="#system-resources">map of System Resources</a>) = Estimated resource usage. Used by kube-scheduler to help find a suitable worker Node.</p></li>
</ul>
</li>
<li><p>securityContext (map)</p>
<ul>
<li><p>allowPrivilegeEscalation (boolean) = If a user can access higher privileges than it currently has.</p></li>
<li><p>capabilities (map) = The capabilities the container has access to.</p>
<ul>
<li><p>add (string)</p></li>
<li><p>remove (string)</p></li>
</ul>
</li>
<li><p>privileged (boolean) = Default is false. If the container should run with root privileges.</p></li>
<li><p>procMount (string) = The proc mount type.</p></li>
<li><p>readOnlyRootFilesystem (boolean) = Default is false. If the container should be read-only.</p></li>
<li><p>runAsGroup (integer) = GID.</p></li>
<li><p>runAsNonRoot (boolean) = If the container should not run as the root user.</p></li>
<li><p>runAsUser (integer) = UID.</p></li>
<li><p>seLinuxOptions (map) = SELinux contexts to set for the container.</p>
<ul>
<li><p>level (string)</p></li>
<li><p>role (string)</p></li>
<li><p>type (string)</p></li>
<li><p>user (string)</p></li>
</ul>
</li>
<li><p>windowsOptions (map) = Windows specific settings.</p></li>
</ul>
</li>
<li><p>startupProbe (<a class="reference external" href="#probe">map of Probe</a>) = Probe to see if the application in the container has fully started.</p></li>
<li><p>stdin (boolean) = Default is false. If stdin should be allowed.</p></li>
<li><p>stdinOnce (boolean) = Default is false. If stdin should be sent to the container once.</p></li>
<li><p>terminationMessagePath (string) = File path to write the termination message to.</p></li>
<li><p>terminationMessagePolicy (string) = Default is File. Alternatively use FallbackToLogsOnError.</p></li>
<li><p>tty (boolean) = Default is false. Requires <code class="docutils literal notranslate"><span class="pre">Pod.spec.containers.stdin</span></code> to be true. If a TTY should be created for the container.</p></li>
<li><p>volumeDevices (map) = Mount a PersistentVolumeClaim.</p>
<ul>
<li><p>devicePath (string) = The path in the container to mount to.</p></li>
<li><p>name (string) = The name of the Pod’s PVC to mount.</p></li>
</ul>
</li>
<li><p>volumeMounts (map) = Mount a volume.</p>
<ul>
<li><p>mountPath (string) = The path in the container to mount to.</p></li>
<li><p>mountPropagation (string) = Default is MountPropagationNone. How the moutns are propagated to or from the host and container.</p></li>
<li><p>name (string)</p></li>
<li><p>readOnly (boolean) = If the volume should be read-only.</p></li>
<li><p>subPath (string) = Defaults to the root directory (“”). The path in the volume to mount.</p></li>
<li><p>subPathExpr (string) = The same as <code class="docutils literal notranslate"><span class="pre">Pod.spec.volumeMounts.subPath</span></code> except environment variables can be used.</p></li>
</ul>
</li>
<li><p>workingDir (string) = The working directory for the <code class="docutils literal notranslate"><span class="pre">Pod.spec.containers.command</span></code> (ENTRYPOINT) or <code class="docutils literal notranslate"><span class="pre">Pod.spec.containers.args</span></code> (CMD).</p></li>
</ul>
<p>[5]</p>
</div>
<div class="section" id="probe">
<h4><a class="toc-backref" href="#id57">Probe</a><a class="headerlink" href="#probe" title="Permalink to this headline">¶</a></h4>
<p><code class="docutils literal notranslate"><span class="pre">Pod.spec.containers.{liveness,readiness,startup}Probe</span></code> (map)</p>
<ul class="simple">
<li><p>exec (map) = Execute a command.</p>
<ul>
<li><p>command (list of strings) = The command and arguments to execute.</p></li>
</ul>
</li>
<li><p>failureThreshold (integer) = Default is 3. Minimimum number of probe failures allowed.</p></li>
<li><p>httpGet (map)</p></li>
<li><p>initialDelaySeconds (integer) = Seconds to delay before starting a probe.</p></li>
<li><p>periodSeconds (integer) = Default is 10. The interval, in seconds, to run a probe.</p></li>
<li><p>successThreshold (integer) = Default is 1. The amount of times a probe needs to succeed before marking the a previously failed probe check as now passing.</p></li>
<li><p>tcpSocket (map)</p></li>
<li><p>timeoutSeconds (integer) = Default is 1. The amount of seconds before the probe times out.</p></li>
</ul>
<p>[5]</p>
</div>
<div class="section" id="selector">
<h4><a class="toc-backref" href="#id58">Selector</a><a class="headerlink" href="#selector" title="Permalink to this headline">¶</a></h4>
<p><code class="docutils literal notranslate"><span class="pre">deploy.spec.selector</span></code>, <code class="docutils literal notranslate"><span class="pre">netpol.spec.podSelector</span></code>, <code class="docutils literal notranslate"><span class="pre">netpol.spec.{egress,ingress}.{to,from}.{namespaceSelector,podSelector}</span></code>, <code class="docutils literal notranslate"><span class="pre">pvc.spec.selector</span></code>, <code class="docutils literal notranslate"><span class="pre">svc.spec.selector</span></code> (map)</p>
<ul class="simple">
<li><p>matchExpressions (list of maps) = Do a logical lookup for labels.</p>
<ul>
<li><p><strong>key</strong> (string) = The label key.</p></li>
<li><p><strong>operator</strong> = DoesNotExist, Exists, In, or NotIn. The operator will analyze the key-value pair.</p></li>
<li><p>values (list of strings) = A list of possible values.</p></li>
</ul>
</li>
<li><p>matchLabels (map) = Specify any exact key-value label pair to match.</p></li>
</ul>
</div>
<div class="section" id="system-resources">
<h4><a class="toc-backref" href="#id59">System Resources</a><a class="headerlink" href="#system-resources" title="Permalink to this headline">¶</a></h4>
<p><code class="docutils literal notranslate"><span class="pre">Pod.spec.containers.resources.{limit,requests}</span></code>, <code class="docutils literal notranslate"><span class="pre">Pod.spec.overhead</span></code> (map)</p>
<ul class="simple">
<li><p>cpu (string) = Specify the CPU load number.</p></li>
<li><p>memory (string) = Specify “Mi” or “Gi” of RAM.</p></li>
</ul>
<p>[5]</p>
</div>
</div>
</div>
<div class="section" id="concepts">
<h2><a class="toc-backref" href="#id60">Concepts</a><a class="headerlink" href="#concepts" title="Permalink to this headline">¶</a></h2>
<div class="section" id="popular-apis">
<h3><a class="toc-backref" href="#id61">Popular APIs</a><a class="headerlink" href="#popular-apis" title="Permalink to this headline">¶</a></h3>
<p>These are common Kubernetes APIs used by developers [12]:</p>
<ul class="simple">
<li><p>ConfigMap</p></li>
<li><p>CronJob</p></li>
<li><p>DaemonSet</p></li>
<li><p>Deployment</p></li>
<li><p>HorizontalPodAutoscaler</p></li>
<li><p>Ingress</p></li>
<li><p>Job</p></li>
<li><p>PersistentVolumeClaim</p></li>
<li><p>Pod</p></li>
<li><p>ReplicaSet</p></li>
<li><p>Secret</p></li>
<li><p>Service</p></li>
<li><p>StatefulSet</p></li>
<li><p>VerticalPodAutoscaler</p></li>
</ul>
</div>
<div class="section" id="labels-and-annotations">
<h3><a class="toc-backref" href="#id62">Labels and Annotations</a><a class="headerlink" href="#labels-and-annotations" title="Permalink to this headline">¶</a></h3>
<p>Labels and annotations both provide a way to assign a key-value pair to an object. This can later be looked up by other objects and by administrators. Labels help to organize related objects and perform actions on them. Many APIs support using a selector to lookup and bind to objects with labels that are found. Helm has a variety of labels that it recommends. [27] Annotations are similar except they are meant for non-human processing.</p>
<p>Define labels and annotations in the metadata section of a manifest.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nn">---</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">annotations</span><span class="p">:</span>
    <span class="nt">&lt;KEY&gt;</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;VALUE&gt;</span>
  <span class="nt">labels</span><span class="p">:</span>
    <span class="nt">&lt;KEY&gt;</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;VALUE&gt;</span>
</pre></div>
</div>
<p>View all labels in use.</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$ kubectl get all --show-labels
</pre></div>
</div>
<p>View all objects with a specific label.</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$ kubectl get all -l <span class="s2">&quot;&lt;KEY&gt;=&lt;VALUE&gt;&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="namespaces">
<h3><a class="toc-backref" href="#id63">Namespaces</a><a class="headerlink" href="#namespaces" title="Permalink to this headline">¶</a></h3>
<p>Namespaces help to isolate objects. Common use cases include having one application per Namespace or one team per Namespace.</p>
<p>View what APIs do and do not support being created inside a Namespace. Any resource that does not support a Namespace is globally accessible [26], such as a PersistentVolume.</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$ kubectl api-resource --namespace<span class="o">=</span><span class="nb">true</span>
$ kubectl api-resource --namespace<span class="o">=</span><span class="nb">false</span>
</pre></div>
</div>
<p>An object can declaratively bind itself to a Namespace by specifying it in the metadata.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nn">---</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">namespace</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;NAMESPACE_NAME&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="persistent-storage">
<h3><a class="toc-backref" href="#id64">Persistent Storage</a><a class="headerlink" href="#persistent-storage" title="Permalink to this headline">¶</a></h3>
<p>By default, all storage is emphemeral. The PersistentVolume (PV) and PersistentVolumeClaim (PVC) APIs provide a way to persistently store information for use-cases such as databases. A PV defines the available storage and connection details for the Kubernetes cluster to use. A PVC defines the storage allocation for use by a Pod.</p>
<p>The example below shows how to configure static storage for a Pod using a directory on a Worker Node.</p>
<ul class="simple">
<li><p>Create a PV. Set a unique <code class="docutils literal notranslate"><span class="pre">&lt;PV_NAME&gt;</span></code>, use any name for storageClassName, configure the <code class="docutils literal notranslate"><span class="pre">&lt;PV_STORAGE_MAX&gt;</span></code> gigabytes that the PV can allocate, and define the <code class="docutils literal notranslate"><span class="pre">&lt;LOCAL_FILE_SYSTEM_PATH&gt;</span></code> where the data from Pods should be stored on the Worker Nodes. In this scenario, it is also recommended to configure a <code class="docutils literal notranslate"><span class="pre">nodeAffinity</span></code> that restricts the PV from only being used by the Worker Node that has the local storage.</p></li>
</ul>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nn">---</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">PersistentVolume</span>
<span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;PV_NAME&gt;</span>
<span class="nt">spec</span><span class="p">:</span>
  <span class="nt">storageClassName</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;STORAGE_CLASS_NAME&gt;</span>
  <span class="nt">capacity</span><span class="p">:</span>
    <span class="nt">storage</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;PV_STORAGE_MAX&gt;Gi</span>
  <span class="nt">accessModes</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">ReadWriteOnce</span>
  <span class="nt">hostPath</span><span class="p">:</span>
    <span class="nt">path</span><span class="p">:</span> <span class="s">&quot;&lt;LOCAL_FILE_SYSTEM_PATH&gt;&quot;</span>
  <span class="nt">nodeAffinity</span><span class="p">:</span>
    <span class="nt">required</span><span class="p">:</span>
      <span class="nt">nodeSelectorTerms</span><span class="p">:</span>
        <span class="p p-Indicator">-</span> <span class="nt">matchExpressions</span><span class="p">:</span>
          <span class="p p-Indicator">-</span> <span class="nt">key</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">kubernetes.io/hostname</span>
            <span class="nt">operator</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">In</span>
            <span class="nt">values</span><span class="p">:</span>
              <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">&lt;WORKER_NODE_WITH_LOCAL_FILE_SYSTEM_PATH&gt;</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Create a PVC from the PV pool. Set a unique <code class="docutils literal notranslate"><span class="pre">&lt;PVC_NAME&gt;</span></code> and the <code class="docutils literal notranslate"><span class="pre">&lt;PVC_STORAGE&gt;</span></code> size. The size should not exceed the maximum available storage from the PV. To bind to the previously created PV, use the same <code class="docutils literal notranslate"><span class="pre">&lt;STORAGE_CLASS_NAME&gt;</span></code></p></li>
</ul>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nn">---</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">PersistentVolumeClaim</span>
<span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;PVC_NAME&gt;</span>
<span class="nt">spec</span><span class="p">:</span>
  <span class="nt">storageClassName</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;STORAGE_CLASS_NAME&gt;</span>
  <span class="nt">accessModes</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">ReadWriteOnce</span>
  <span class="nt">resources</span><span class="p">:</span>
    <span class="nt">requests</span><span class="p">:</span>
      <span class="nt">storage</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;PVC_STORAGE&gt;Gi</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Create a Pod using the PVC. Set <code class="docutils literal notranslate"><span class="pre">&lt;POD_VOLUME_NAME&gt;</span></code> to a nickname of the PVC volume that will be used by the actual Pod and indicate the <code class="docutils literal notranslate"><span class="pre">mountPath</span></code> for where it should be mounted inside of the container.</p></li>
</ul>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nn">---</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Pod</span>
<span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;POD_NAME&gt;</span>
<span class="nt">spec</span><span class="p">:</span>
  <span class="nt">volumes</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;POD_VOLUME_NAME&gt;</span>
      <span class="nt">persistentVolumeClaim</span><span class="p">:</span>
        <span class="nt">claimName</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;PVC_NAME&gt;</span>
  <span class="nt">containers</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">mysql</span>
      <span class="nt">image</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">mysql:8.0</span>
      <span class="nt">volumeMounts</span><span class="p">:</span>
        <span class="p p-Indicator">-</span> <span class="nt">mountPath</span><span class="p">:</span> <span class="s">&quot;/var/lib/mysql&quot;</span>
          <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;POD_VOLUME_NAME&gt;</span>
</pre></div>
</div>
<p>[3]</p>
</div>
<div class="section" id="service-and-ingress-public-networking">
<h3><a class="toc-backref" href="#id65">Service and Ingress (Public Networking)</a><a class="headerlink" href="#service-and-ingress-public-networking" title="Permalink to this headline">¶</a></h3>
<p>There are two APIs for managing networking in Kubernetes: Service (internal) and Ingress (external). A Service by itself is used to expose access to a Pod and ports in it for development and testing purposes. There are various different types of services. Most can be managed by <code class="docutils literal notranslate"><span class="pre">kubectl</span> <span class="pre">expose</span></code>.</p>
<p>ServiceTypes [22]:</p>
<ul class="simple">
<li><p>ClusterIP = Opens a port and exposes it on an internal IP that can only be accessed on Nodes (no external connectivity). Internally in Kubernetes, requests to <code class="docutils literal notranslate"><span class="pre">&lt;SERVICE&gt;.default.svc.cluster.local</span></code> will be redirected to this IP address. The port is only open on the Nodes which have the related Pod running.</p></li>
<li><p>NodePort = Opens a port on every Node (even if a Pod it is tied to is not on it). Connectivity can be made through the IP address of the Nodes that have the Pod running.</p></li>
<li><p>LoadBalancer = Use a third-party cloud provider’s load balancing service.</p></li>
<li><p>ExternalName = Similar to a ClusterIP except a domain name can be given. <code class="docutils literal notranslate"><span class="pre">kubectl</span> <span class="pre">expose</span> <span class="pre">--type=ExternalName</span></code> currently <a class="reference external" href="https://github.com/kubernetes/kubernetes/issues/87398">does not work</a> because there is no argument for the external name.</p></li>
</ul>
<p>Ingress is used to publicily expose a Pod and it’s ports. It can redirect traffic based on domain names and HTTP paths. It also supports creating load balancers and handling SSL/TLS termination. It requires a Service to bind to. [23]</p>
<p>Ingress Controllers are different back-ends that handle the Ingress API. They use different technologies and generally have their own use-cases. The only ones that are officially supported are NGINX and Google’s Compute Engine (GCE).</p>
<p>Top 5 Ingress Controllers and their top use-cases [24]:</p>
<ul class="simple">
<li><p>Ambassador = API gateway.</p></li>
<li><p>HAProxy = Load balancing.</p></li>
<li><p>Istio Ingress Gateway = Fast performance.</p></li>
<li><p>NGINX = Automatic public cloud integration.</p></li>
<li><p>Traefik = Let’s Encrypt SSL/TLS generation.</p></li>
</ul>
<p>A Kubernetes cluster can have more than one Ingress Controller installed. In an object’s manifest, the one to use can be specified. [25]</p>
<p>Kubernetes &lt; 1.19 <code class="docutils literal notranslate"><span class="pre">ingress.metadata.annotations.kubernetes.io/ingress.class</span></code>:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">annotations</span><span class="p">:</span>
    <span class="nt">kubernetes.io/ingress.class</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;INGRESS_CONTROLLER&gt;</span>
</pre></div>
</div>
<p>Kubernetes &gt;= 1.19 <code class="docutils literal notranslate"><span class="pre">ingress.spec.ingressClassName</span></code>:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">annotations</span><span class="p">:</span>
    <span class="c1"># Some Ingress Controllers still require the legacy</span>
    <span class="c1"># annotation to process special rules.</span>
    <span class="nt">kubernetes.io/ingress.class</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;INGRESS_CONTROLLER&gt;</span>
<span class="nt">spec</span><span class="p">:</span>
  <span class="nt">ingressClassName</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;INGRESS_CONTROLLER&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="pod-scheduling">
<h3><a class="toc-backref" href="#id66">Pod Scheduling</a><a class="headerlink" href="#pod-scheduling" title="Permalink to this headline">¶</a></h3>
<p>Pods have many ways to configure which Nodes it will or will not be scheduled to run on.</p>
<hr class="docutils" />
<p><strong>nodeName and nodeSelector</strong></p>
<p>Either <code class="docutils literal notranslate"><span class="pre">pod.spec.nodeName</span></code> or <code class="docutils literal notranslate"><span class="pre">pod.spec.nodeSelector</span></code> can be set to determine which Node(s) it should be scheduled on.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nn">---</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Pod</span>
<span class="nt">spec</span><span class="p">:</span>
  <span class="nt">nodeName</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;NODE_NAME&gt;</span>
</pre></div>
</div>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nn">---</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Pod</span>
<span class="nt">spec</span><span class="p">:</span>
  <span class="nt">nodeSelector</span><span class="p">:</span>
    <span class="nt">&lt;NODE_LABEL_KEY&gt;</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;NODE_LABEL_VALUE&gt;</span>
</pre></div>
</div>
<hr class="docutils" />
<p><strong>Affinity and Anti-affinity</strong></p>
<p>Affinities provide a more customizable alternative to nodeName and nodeSelector.</p>
<p>Affinity types (<code class="docutils literal notranslate"><span class="pre">pod.spec.affinity</span></code>):</p>
<ul class="simple">
<li><p>nodeAffinity = Specify the Node(s) the Pod should be scheduled on based on the labels of Nodes.</p></li>
<li><p>podAffinity = Specify the Node(s) the Pod should be scheduled on based on the labels of Pods running on a Node.</p></li>
<li><p>podAntiAffinity = The opposite of podAffinity (do not schedule on that Node).</p></li>
</ul>
<p>Scheduling types:</p>
<ul class="simple">
<li><p>preferredDuringSchedulingIgnoredDuringExecution = Try to schedule the Pod to run on specific Nodes. If that is not possible, use any available Node.</p></li>
<li><p>requiredDuringSchedulingIgnoredDuringExecution = Only schedule the Pod to run on specific Nodes.</p></li>
</ul>
<p>[38]</p>
<hr class="docutils" />
<p><strong>Taints and Tolerations</strong></p>
<p>A taint is a special label that can be set on a Node to prevent Pods from being scheduled on it. Pods can still run on the Node if they have a toleration to the taint. The concept of taints is similar to a “deny all” policy and a toleration is a specific “allow list”.</p>
<p>Taint effects:</p>
<ul class="simple">
<li><p>NoExecute = All Pods will be evicited from the Node.</p></li>
<li><p>NoPreferNoSchedule = Only schedule a Pod on this Node if no other Node can run the Pod.</p></li>
<li><p>NoSchedule = Do not schedule Pods on this Node.</p></li>
</ul>
<p>Add a taint to a Node either with a key-value pair or just a key:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$ kubectl taint nodes &lt;NODE&gt; &lt;KEY&gt;<span class="o">=</span>&lt;VALUE&gt;:&lt;TAINT&gt;
$ kubectl taint nodes &lt;NODE&gt; &lt;KEY&gt;:&lt;TAINT&gt;
</pre></div>
</div>
<p>Remove a taint from a Node by adding a dash after the taint name:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$ kubectl taint nodes &lt;NODE&gt; &lt;KEY&gt;<span class="o">=</span>&lt;VALUE&gt;:&lt;TAINT&gt;-
$ kubectl taint nodes &lt;NODE&gt; &lt;KEY&gt;:&lt;TAINT&gt;-
</pre></div>
</div>
<p>By default, Control Plane Nodes currently have two taints that prevent normal workloads from being scheduled on them:</p>
<ul class="simple">
<li><p>node-role.kubernetes.io/master:NoSchedule</p></li>
<li><p>node-role.kubernetes.io/control-plane:NoSchedule = This was added in Kubernetes 1.20.</p></li>
</ul>
<p>Toleration operators:</p>
<ul class="simple">
<li><p>Equals = Tolerate a taint if a Node has the specified key-value pair.</p></li>
<li><p>Exists = Tolerate a taint if a Node has the specified key.</p></li>
</ul>
<p>[39]</p>
<p>A Pod can tolerate all taints by setting <code class="docutils literal notranslate"><span class="pre">pod.spec.tolerations.operator</span></code> to <code class="docutils literal notranslate"><span class="pre">Exists</span></code> and leaving the <code class="docutils literal notranslate"><span class="pre">key</span></code> and <code class="docutils literal notranslate"><span class="pre">value</span></code> fields undefined. [40]</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nn">---</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Pod</span>
<span class="nt">spec</span><span class="p">:</span>
 <span class="nt">tolerations</span><span class="p">:</span>
   <span class="p p-Indicator">-</span> <span class="nt">operator</span><span class="p">:</span> <span class="s">&quot;Exists&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="helm-package-manager">
<h3><a class="toc-backref" href="#id67">Helm (Package Manager)</a><a class="headerlink" href="#helm-package-manager" title="Permalink to this headline">¶</a></h3>
<p>Helm is a package manager for Kubernetes applications. Helm 2 and below required a Tiller server component to be installed on the Kubernetes cluster. This is no longer required as of Helm 3. Helm is now a standalone client-side-only command. [15]</p>
<p>Vocabulary:</p>
<ul class="simple">
<li><p>Chart = A Helm package with all of the related resource manifests to run an application.</p></li>
<li><p>Repository = A collection of Charts that can be installed.</p></li>
<li><p>Release = A unique name given each time a Chart is installed. This is used to help track different installations and the history of a Helm Chart.</p></li>
</ul>
<p><a class="reference external" href="https://hub.helm.sh/">Helm Hub</a> is the official repository for Helm Charts. There are currently over one thousand Charts available. Third-party repositories are also supported. Helm can even install Charts from a directory (such as a local git repository). [16]</p>
<p>Each Chart contains a “values.yaml” for manifest settings that can be overridden. It is expected that it contains sane defaults and can be deployed without any modifications. The manifest files are <a class="reference external" href="https://golang.org/pkg/text/template/">Go templates</a> that get rendered out based on the values provided to Helm. <a class="reference external" href="https://helm.sh/docs/chart_template_guide/">The Chart Template Developer’s Guide</a> explains in more detail how to fully customize templates. It is possible to override values that are not templated, or to add new ones, by using <a class="reference external" href="https://kustomize.io/">Kustomize</a>. The biggest downside to using Kustomize is that Helm no longer has visibility into the release/life-cycle of a Chart. [17]</p>
</div>
<div class="section" id="best-practices">
<h3><a class="toc-backref" href="#id68">Best Practices</a><a class="headerlink" href="#best-practices" title="Permalink to this headline">¶</a></h3>
<div class="section" id="probes">
<h4><a class="toc-backref" href="#id69">Probes</a><a class="headerlink" href="#probes" title="Permalink to this headline">¶</a></h4>
<p>There are three types of health probes for a Pod. At a minimum, a liveness probe should be configured for every Pod.</p>
<ul class="simple">
<li><p>liveness = Determine if the application is still working as expected. If this probe fails, the Pod is restarted.</p></li>
<li><p>readiness = Determine if the application is available and should accept connections. If this probe fails, network connections to the Pod will be temporarily paused.</p></li>
<li><p>startup = Determine if the application has fully started (once at startup). If this probe fails, the Pod is marked as failed.</p></li>
</ul>
<p>For a full list of configuration options, see the <a class="reference external" href="#probe">Probe</a> section.</p>
</div>
</div>
</div>
<div class="section" id="installation">
<h2><a class="toc-backref" href="#id70">Installation</a><a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<div class="section" id="kubectl-cli">
<h3><a class="toc-backref" href="#id71">kubectl (CLI)</a><a class="headerlink" href="#kubectl-cli" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">kubectl</span></code> command is used to manage Kubernetes objects. The binary version can manage a Kubernetes cluster of the same version and the previous minor release. [13]</p>
<p>Installation:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$ <span class="nb">cd</span> ~/.local/bin/
$ <span class="nb">export</span> <span class="nv">KUBE_VER</span><span class="o">=</span><span class="s2">&quot;1.18.3&quot;</span>
$ curl -LO https://storage.googleapis.com/kubernetes-release/release/v<span class="si">${</span><span class="nv">KUBE_VER</span><span class="si">}</span>/bin/linux/amd64/kubectl
$ chmod +x ./kubectl
$ kubectl version --client
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Client</span> <span class="n">Version</span><span class="p">:</span> <span class="n">version</span><span class="o">.</span><span class="n">Info</span><span class="p">{</span><span class="n">Major</span><span class="p">:</span><span class="s2">&quot;1&quot;</span><span class="p">,</span> <span class="n">Minor</span><span class="p">:</span><span class="s2">&quot;18&quot;</span><span class="p">,</span> <span class="n">GitVersion</span><span class="p">:</span><span class="s2">&quot;v1.18.3&quot;</span><span class="p">,</span> <span class="n">GitCommit</span><span class="p">:</span><span class="s2">&quot;2e7996e3e2712684bc73f0dec0200d64eec7fe40&quot;</span><span class="p">,</span> <span class="n">GitTreeState</span><span class="p">:</span><span class="s2">&quot;clean&quot;</span><span class="p">,</span> <span class="n">BuildDate</span><span class="p">:</span><span class="s2">&quot;2020-05-20T12:52:00Z&quot;</span><span class="p">,</span> <span class="n">GoVersion</span><span class="p">:</span><span class="s2">&quot;go1.13.9&quot;</span><span class="p">,</span> <span class="n">Compiler</span><span class="p">:</span><span class="s2">&quot;gc&quot;</span><span class="p">,</span> <span class="n">Platform</span><span class="p">:</span><span class="s2">&quot;linux/amd64&quot;</span><span class="p">}</span>
</pre></div>
</div>
<p>By default, the configuration file (provided by the Kubernetes cluster administrator) will be loaded from the file <code class="docutils literal notranslate"><span class="pre">~/.kube/config</span></code>. This can be set to a different file. [14]</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$ <span class="nb">export</span> <span class="nv">KUBECONFIG</span><span class="o">=</span><span class="s2">&quot;&lt;PATH_TO_KUBE_CONFIG&gt;.yml&quot;</span>
$ kubectl config view
$ kubectl cluster-info
$ kubectl version
</pre></div>
</div>
</div>
<div class="section" id="helm-cli">
<h3><a class="toc-backref" href="#id72">helm (CLI)</a><a class="headerlink" href="#helm-cli" title="Permalink to this headline">¶</a></h3>
<p>Find the latest version from <a class="reference external" href="https://github.com/helm/helm/releases">Helm’s GitHub releases page</a>. [18]</p>
<p>Installation:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$ <span class="nb">export</span> <span class="nv">HELM_VER</span><span class="o">=</span><span class="s2">&quot;3.2.2&quot;</span>
$ curl -LO https://get.helm.sh/helm-v<span class="si">${</span><span class="nv">HELM_VER</span><span class="si">}</span>-linux-amd64.tar.gz
$ tar -x -f helm-v<span class="si">${</span><span class="nv">HELM_VER</span><span class="si">}</span>-linux-amd64.tar.gz
$ cp linux-amd64/helm ~/.local/bin/
</pre></div>
</div>
</div>
</div>
<div class="section" id="history">
<h2><a class="toc-backref" href="#id73">History</a><a class="headerlink" href="#history" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/ekultails/rootpages/commits/master/src/virtualization/kubernetes_development.rst">Latest</a></p></li>
<li><p><a class="reference external" href="https://github.com/ekultails/rootpages/commits/master/src/virtualization/kubernetes.rst">&lt; 2019.10.01</a></p></li>
</ul>
</div>
<div class="section" id="bibliography">
<h2><a class="toc-backref" href="#id74">Bibliography</a><a class="headerlink" href="#bibliography" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li><p>“Kubernetes Persistent Volumes with Deployment and StatefulSet.” Alen Komljen. January 17, 2019. Accessed May 29, 2020. <a class="reference external" href="https://akomljen.com/kubernetes-persistent-volumes-with-deployment-and-statefulset/">https://akomljen.com/kubernetes-persistent-volumes-with-deployment-and-statefulset/</a></p></li>
<li><p>“Persistent Volumes.” Kubernetes Concepts. January 16, 2019. Accessed January 29, 2019. <a class="reference external" href="https://kubernetes.io/docs/concepts/storage/persistent-volumes/">https://kubernetes.io/docs/concepts/storage/persistent-volumes/</a></p></li>
<li><p>“Configure a Pod to Use a PersistentVolume for Storage.” Kubernetes Tasks. December 20, 2019. Accessed June 3, 2020. <a class="reference external" href="https://kubernetes.io/docs/tasks/configure-pod-container/configure-persistent-volume-storage/">https://kubernetes.io/docs/tasks/configure-pod-container/configure-persistent-volume-storage/</a></p></li>
<li><p>“So you want to change the API?” GitHub kubernetes/community. June 25, 2019. Accessed April 15, 2020. <a class="reference external" href="https://github.com/kubernetes/community/blob/master/contributors/devel/sig-architecture/api_changes.md">https://github.com/kubernetes/community/blob/master/contributors/devel/sig-architecture/api_changes.md</a></p></li>
<li><p>“[Kubernetes 1.19] API OVERVIEW.” Kubernetes API Reference Docs. October 19, 2020. Accessed March 25, 2021. <a class="reference external" href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.19/">https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.19/</a></p></li>
<li><p>“Kubernetes Resources and Controllers Overview.” The Kubectl Book. Accessed April 29, 2020. <a class="reference external" href="https://kubectl.docs.kubernetes.io/pages/kubectl_book/resources_and_controllers.html">https://kubectl.docs.kubernetes.io/pages/kubectl_book/resources_and_controllers.html</a></p></li>
<li><p>“Overview of kubectl.” Kubernetes Reference. March 28, 2020. Accessed April 29, 2020. <a class="reference external" href="https://kubernetes.io/docs/reference/kubectl/overview/">https://kubernetes.io/docs/reference/kubectl/overview/</a></p></li>
<li><p>“Using kubectl to jumpstart a YAML file — #HeptioProTip.” heptio Blog. September 21, 2017. Accessed April 29, 2020. <a class="reference external" href="https://blog.heptio.com/using-kubectl-to-jumpstart-a-yaml-file-heptioprotip-6f5b8a63a3ea">https://blog.heptio.com/using-kubectl-to-jumpstart-a-yaml-file-heptioprotip-6f5b8a63a3ea</a></p></li>
<li><p>“Declarative Management of Kubernetes Objects Using Configuration Files.” Kubernetes Tasks. May 2, 2020. Accessed May 28, 2020. <a class="reference external" href="https://kubernetes.io/docs/tasks/manage-kubernetes-objects/declarative-config/">https://kubernetes.io/docs/tasks/manage-kubernetes-objects/declarative-config/</a></p></li>
<li><p>“Kubernetes Tips: Create Pods With Imperative Commands in 1.18.” Better Programming - Medium. April 7, 2020. Accessed May 28, 2020. <a class="reference external" href="https://medium.com/better-programming/kubernetes-tips-create-pods-with-imperative-commands-in-1-18-62ea6e1ceb32">https://medium.com/better-programming/kubernetes-tips-create-pods-with-imperative-commands-in-1-18-62ea6e1ceb32</a></p></li>
<li><p>“ReplicationController.” Kuberntes Concepts. March 28, 2020. May 29, 2020. <a class="reference external" href="https://kubernetes.io/docs/concepts/workloads/controllers/replicationcontroller/">https://kubernetes.io/docs/concepts/workloads/controllers/replicationcontroller/</a></p></li>
<li><p>“What are the most useful Kubernetes Resources for developers?” www.Dev4Devs.com. October 20, 2019. Accessed June 8, 2020. <a class="reference external" href="https://dev4devs.com/2019/10/20/what-are-the-kubernetes-resources-which-are-most-useful-for-developers/">https://dev4devs.com/2019/10/20/what-are-the-kubernetes-resources-which-are-most-useful-for-developers/</a></p></li>
<li><p>“Install and Set Up kubectl.” Kubernetes Tasks. May 30, 2020. Accessed June 11, 2020.https://kubernetes.io/docs/tasks/tools/install-kubectl/</p></li>
<li><p>“Configure Access to Multiple Clusters.” Kubernetes Tasks. May 30, 2020. Accessed June 11, 2020. <a class="reference external" href="https://kubernetes.io/docs/tasks/access-application-cluster/configure-access-multiple-clusters/">https://kubernetes.io/docs/tasks/access-application-cluster/configure-access-multiple-clusters/</a></p></li>
<li><p>“Helm 3.0.0 has been released!” Helm Blog. November 13, 2019. Accessed June 16, 2020. <a class="reference external" href="https://helm.sh/blog/helm-3-released/">https://helm.sh/blog/helm-3-released/</a></p></li>
<li><p>“Using Helm.” Helm Docs. Accessed June 16, 2020. <a class="reference external" href="https://helm.sh/docs/intro/using_helm/">https://helm.sh/docs/intro/using_helm/</a></p></li>
<li><p>“Customizing Upstream Helm Charts with Kustomize.” Testing Clouds at 128bpm. July 20, 2018. Accessed June 16, 2020. <a class="reference external" href="https://testingclouds.wordpress.com/2018/07/20/844/">https://testingclouds.wordpress.com/2018/07/20/844/</a></p></li>
<li><p>“Installing Helm. Helm Docs. Accessed June 16, 2020. <a class="reference external" href="https://helm.sh/docs/intro/install/">https://helm.sh/docs/intro/install/</a></p></li>
<li><p>“examples.” GitHub kubernetes/examples. May 21, 2020. Accessed June 25, 2020.  <a class="reference external" href="https://github.com/kubernetes/examples">https://github.com/kubernetes/examples</a></p></li>
<li><p>“Complete Example Using GlusterFS.” OpenShift Container Platform 3.11 Documentation. June 21, 2020. Accessed June 25, 2020. <a class="reference external" href="https://docs.openshift.com/container-platform/3.11/install_config/storage_examples/gluster_example.html">https://docs.openshift.com/container-platform/3.11/install_config/storage_examples/gluster_example.html</a></p></li>
<li><p>“Volumes.” Kubernetes Concepts. May 15, 2020. Accessed June 25, 2020. <a class="reference external" href="https://kubernetes.io/docs/concepts/storage/volumes/">https://kubernetes.io/docs/concepts/storage/volumes/</a></p></li>
<li><p>“Service.” Kubernetes Concepts. May 30, 2020. Accessed June 28, 2020. <a class="reference external" href="https://kubernetes.io/docs/concepts/services-networking/service/">https://kubernetes.io/docs/concepts/services-networking/service/</a></p></li>
<li><p>“Ingress.” Kubernetes Concepts. May 30, 2020. Accessed June 28, 2020. <a class="reference external" href="https://kubernetes.io/docs/concepts/services-networking/ingress/">https://kubernetes.io/docs/concepts/services-networking/ingress/</a></p></li>
<li><p>“Comparison of Kubernetes Top Ingress Controllers.” caylent. May 9, 2019. Accessed June 28, 2020. <a class="reference external" href="https://caylent.com/kubernetes-top-ingress-controllers">https://caylent.com/kubernetes-top-ingress-controllers</a></p></li>
<li><p>“Ingress Controllers.” Kubernetes Concepts. May 30, 2020. Accessed June 28, 2020. <a class="reference external" href="https://kubernetes.io/docs/concepts/services-networking/ingress-controllers/">https://kubernetes.io/docs/concepts/services-networking/ingress-controllers/</a></p></li>
<li><p>“Namespaces.” Kubernetes Concepts. June 22, 2020. Accessed June 30, 2020. <a class="reference external" href="https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/">https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/</a></p></li>
<li><p>“Labels and Annotations.” Helm Docs. Accessed June 30, 2020. <a class="reference external" href="https://helm.sh/docs/chart_best_practices/labels/">https://helm.sh/docs/chart_best_practices/labels/</a></p></li>
<li><p>“API List.” OpenShift Container Platform 4.5 Documentation. Accessed August 12, 2020. <a class="reference external" href="https://docs.openshift.com/container-platform/4.5/rest_api/index.html">https://docs.openshift.com/container-platform/4.5/rest_api/index.html</a></p></li>
<li><p>“Templates.” OpenShift Container Platform 3.11 Documentation. Accessed August 14, 2020.  <a class="reference external" href="https://docs.openshift.com/container-platform/3.11/dev_guide/templates.html">https://docs.openshift.com/container-platform/3.11/dev_guide/templates.html</a></p></li>
<li><p>“Configuration.” kind. January 3, 2021. Accessed January 20, 2021. <a class="reference external" href="https://kind.sigs.k8s.io/docs/user/configuration/">https://kind.sigs.k8s.io/docs/user/configuration/</a></p></li>
<li><p>“Authorization Overview.” Kubernetes Documentation. January 7, 2021. Accessed March 15, 2021. <a class="reference external" href="https://kubernetes.io/docs/reference/access-authn-authz/authorization/">https://kubernetes.io/docs/reference/access-authn-authz/authorization/</a></p></li>
<li><p>“Using RBAC Authorization.” Kubernetes Documentation. January 14, 2021. Accessed March 25, 2021. <a class="reference external" href="https://kubernetes.io/docs/reference/access-authn-authz/rbac/">https://kubernetes.io/docs/reference/access-authn-authz/rbac/</a></p></li>
<li><p>“Certificate Signing Requests.” Kubernetes Documentation. October 20, 2020. Accessed March 25, 2021. <a class="reference external" href="https://kubernetes.io/docs/reference/access-authn-authz/certificate-signing-requests/">https://kubernetes.io/docs/reference/access-authn-authz/certificate-signing-requests/</a></p></li>
<li><p>“SelfSigned.” cert-manager Docuemtnation. August 27, 2020. Accessed March 31, 2021. <a class="reference external" href="https://cert-manager.io/docs/configuration/selfsigned/">https://cert-manager.io/docs/configuration/selfsigned/</a></p></li>
<li><p>“CA.” cert-manager Documentation. February 4, 2021. Accessed March 31, 2021. <a class="reference external" href="https://cert-manager.io/docs/configuration/ca/">https://cert-manager.io/docs/configuration/ca/</a></p></li>
<li><p>“Securing NGINX-ingress.” cert-manager Documentation. March 14, 2021. Accessed March 31, 2021. <a class="reference external" href="https://cert-manager.io/docs/tutorials/acme/ingress/">https://cert-manager.io/docs/tutorials/acme/ingress/</a></p></li>
<li><p>“Setting up CA Issuers.” cert-manager Documentation. 2018. Accessed March 31, 2021. <a class="reference external" href="https://docs.cert-manager.io/en/release-0.11/tasks/issuers/setup-ca.html">https://docs.cert-manager.io/en/release-0.11/tasks/issuers/setup-ca.html</a></p></li>
<li><p>“Assigning Pods to Nodes.” Kubernetes Documentation. March 19, 2021. Accessed April 1, 2021. <a class="reference external" href="https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node/">https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node/</a></p></li>
<li><p>“Taints and Tolerations.” Kubernetes Documentation. November 19, 2020. Accessed April 1, 2021. <a class="reference external" href="https://kubernetes.io/docs/concepts/scheduling-eviction/taint-and-toleration/">https://kubernetes.io/docs/concepts/scheduling-eviction/taint-and-toleration/</a></p></li>
<li><p>“Making Sense of Taints and Tolerations in Kubernetes.” Supergiant.io - Medium. March 5, 2019. Accessed April 1, 2021. <a class="reference external" href="https://medium.com/kubernetes-tutorials/making-sense-of-taints-and-tolerations-in-kubernetes-446e75010f4e">https://medium.com/kubernetes-tutorials/making-sense-of-taints-and-tolerations-in-kubernetes-446e75010f4e</a></p></li>
</ol>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="virtual_machines.html" class="btn btn-neutral float-right" title="Virtual Machines" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="kubernetes_administration.html" class="btn btn-neutral float-left" title="Kubernetes Administration" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright None, Copyleft 2021, Luke Short. Documents licensed under GFDLv1.3.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>